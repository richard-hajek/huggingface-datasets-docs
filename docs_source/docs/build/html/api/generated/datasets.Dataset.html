
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>datasets.Dataset &#8212; Datasets 4.4.2.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=564b2b0d" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=62d5458c"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=fd10adb8"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/generated/datasets.Dataset';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="datasets.Dataset.from_file" href="datasets.Dataset.from_file.html" />
    <link rel="prev" title="Dataset" href="../dataset.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="4.4.2.dev0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">ğŸ¤— Datasets</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../howto.html">
    How-to Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts.html">
    Conceptual Guides
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/huggingface/datasets" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://huggingface.co/datasets" title="Hugging Face" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-house fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Hugging Face</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../howto.html">
    How-to Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts.html">
    Conceptual Guides
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/huggingface/datasets" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://huggingface.co/datasets" title="Hugging Face" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-house fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Hugging Face</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../dataset.html">Dataset</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">datasets.Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_file.html">datasets.Dataset.from_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_buffer.html">datasets.Dataset.from_buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_pandas.html">datasets.Dataset.from_pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_dict.html">datasets.Dataset.from_dict</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_generator.html">datasets.Dataset.from_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.data.html">datasets.Dataset.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cache_files.html">datasets.Dataset.cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.num_columns.html">datasets.Dataset.num_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.num_rows.html">datasets.Dataset.num_rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.column_names.html">datasets.Dataset.column_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.shape.html">datasets.Dataset.shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.info.html">datasets.Dataset.info</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.split.html">datasets.Dataset.split</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.builder_name.html">datasets.Dataset.builder_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.citation.html">datasets.Dataset.citation</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.config_name.html">datasets.Dataset.config_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.description.html">datasets.Dataset.description</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.download_checksums.html">datasets.Dataset.download_checksums</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.download_size.html">datasets.Dataset.download_size</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.features.html">datasets.Dataset.features</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.homepage.html">datasets.Dataset.homepage</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.license.html">datasets.Dataset.license</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.size_in_bytes.html">datasets.Dataset.size_in_bytes</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.supervised_keys.html">datasets.Dataset.supervised_keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.version.html">datasets.Dataset.version</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.flatten.html">datasets.Dataset.flatten</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cast.html">datasets.Dataset.cast</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cast_column.html">datasets.Dataset.cast_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_column.html">datasets.Dataset.add_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.remove_columns.html">datasets.Dataset.remove_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.rename_column.html">datasets.Dataset.rename_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.rename_columns.html">datasets.Dataset.rename_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.select_columns.html">datasets.Dataset.select_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.class_encode_column.html">datasets.Dataset.class_encode_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.sort.html">datasets.Dataset.sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.shuffle.html">datasets.Dataset.shuffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.select.html">datasets.Dataset.select</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.filter.html">datasets.Dataset.filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.unique.html">datasets.Dataset.unique</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.train_test_split.html">datasets.Dataset.train_test_split</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.shard.html">datasets.Dataset.shard</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.map.html">datasets.Dataset.map</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.batch.html">datasets.Dataset.batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.with_format.html">datasets.Dataset.with_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.with_transform.html">datasets.Dataset.with_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.set_format.html">datasets.Dataset.set_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.set_transform.html">datasets.Dataset.set_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.reset_format.html">datasets.Dataset.reset_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.formatted_as.html">datasets.Dataset.formatted_as</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.__len__.html">datasets.Dataset.__len__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.__iter__.html">datasets.Dataset.__iter__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.iter.html">datasets.Dataset.iter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.__getitem__.html">datasets.Dataset.__getitem__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.save_to_disk.html">datasets.Dataset.save_to_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.load_from_disk.html">datasets.Dataset.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_csv.html">datasets.Dataset.to_csv</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_pandas.html">datasets.Dataset.to_pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_dict.html">datasets.Dataset.to_dict</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_json.html">datasets.Dataset.to_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_parquet.html">datasets.Dataset.to_parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_sql.html">datasets.Dataset.to_sql</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_iterable_dataset.html">datasets.Dataset.to_iterable_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.push_to_hub.html">datasets.Dataset.push_to_hub</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cleanup_cache_files.html">datasets.Dataset.cleanup_cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_faiss_index.html">datasets.Dataset.add_faiss_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_faiss_index_from_external_arrays.html">datasets.Dataset.add_faiss_index_from_external_arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.save_faiss_index.html">datasets.Dataset.save_faiss_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.load_faiss_index.html">datasets.Dataset.load_faiss_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_elasticsearch_index.html">datasets.Dataset.add_elasticsearch_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.load_elasticsearch_index.html">datasets.Dataset.load_elasticsearch_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.list_indexes.html">datasets.Dataset.list_indexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.get_index.html">datasets.Dataset.get_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.drop_index.html">datasets.Dataset.drop_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.search.html">datasets.Dataset.search</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.search_batch.html">datasets.Dataset.search_batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.get_nearest_examples.html">datasets.Dataset.get_nearest_examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.get_nearest_examples_batch.html">datasets.Dataset.get_nearest_examples_batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.align_labels_with_mapping.html">datasets.Dataset.align_labels_with_mapping</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../dataset_dict.html">DatasetDict</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.html">datasets.DatasetDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_csv.html">datasets.DatasetDict.from_csv</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_json.html">datasets.DatasetDict.from_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_parquet.html">datasets.DatasetDict.from_parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_text.html">datasets.DatasetDict.from_text</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.data.html">datasets.DatasetDict.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cache_files.html">datasets.DatasetDict.cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.num_columns.html">datasets.DatasetDict.num_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.num_rows.html">datasets.DatasetDict.num_rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.column_names.html">datasets.DatasetDict.column_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.shape.html">datasets.DatasetDict.shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.map.html">datasets.DatasetDict.map</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.filter.html">datasets.DatasetDict.filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.sort.html">datasets.DatasetDict.sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.shuffle.html">datasets.DatasetDict.shuffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.set_format.html">datasets.DatasetDict.set_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.reset_format.html">datasets.DatasetDict.reset_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.set_transform.html">datasets.DatasetDict.set_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.with_format.html">datasets.DatasetDict.with_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.with_transform.html">datasets.DatasetDict.with_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.flatten.html">datasets.DatasetDict.flatten</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cast.html">datasets.DatasetDict.cast</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cast_column.html">datasets.DatasetDict.cast_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.remove_columns.html">datasets.DatasetDict.remove_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.rename_column.html">datasets.DatasetDict.rename_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.rename_columns.html">datasets.DatasetDict.rename_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.select_columns.html">datasets.DatasetDict.select_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.class_encode_column.html">datasets.DatasetDict.class_encode_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.save_to_disk.html">datasets.DatasetDict.save_to_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.load_from_disk.html">datasets.DatasetDict.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.push_to_hub.html">datasets.DatasetDict.push_to_hub</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cleanup_cache_files.html">datasets.DatasetDict.cleanup_cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.align_labels_with_mapping.html">datasets.DatasetDict.align_labels_with_mapping</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../iterable_dataset.html">IterableDataset</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.html">datasets.IterableDataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.from_generator.html">datasets.IterableDataset.from_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.n_shards.html">datasets.IterableDataset.n_shards</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.map.html">datasets.IterableDataset.map</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.filter.html">datasets.IterableDataset.filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.shuffle.html">datasets.IterableDataset.shuffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.skip.html">datasets.IterableDataset.skip</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.take.html">datasets.IterableDataset.take</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.with_format.html">datasets.IterableDataset.with_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.__iter__.html">datasets.IterableDataset.__iter__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.iter.html">datasets.IterableDataset.iter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.add_column.html">datasets.IterableDataset.add_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.remove_columns.html">datasets.IterableDataset.remove_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.rename_column.html">datasets.IterableDataset.rename_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.rename_columns.html">datasets.IterableDataset.rename_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.select_columns.html">datasets.IterableDataset.select_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.cast.html">datasets.IterableDataset.cast</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.cast_column.html">datasets.IterableDataset.cast_column</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../features.html">Features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.Features.html">datasets.Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Value.html">datasets.Value</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ClassLabel.html">datasets.ClassLabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Sequence.html">datasets.Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array2D.html">datasets.Array2D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array3D.html">datasets.Array3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array4D.html">datasets.Array4D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array5D.html">datasets.Array5D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Audio.html">datasets.Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Image.html">datasets.Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Translation.html">datasets.Translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.TranslationVariableLanguages.html">datasets.TranslationVariableLanguages</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ClassLabel.int2str.html">datasets.ClassLabel.int2str</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ClassLabel.str2int.html">datasets.ClassLabel.str2int</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../builders.html">Dataset builders</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetBuilder.html">datasets.DatasetBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.GeneratorBasedBuilder.html">datasets.GeneratorBasedBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ArrowBasedBuilder.html">datasets.ArrowBasedBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetBuilder.download_and_prepare.html">datasets.DatasetBuilder.download_and_prepare</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetBuilder.as_dataset.html">datasets.DatasetBuilder.as_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.BuilderConfig.html">datasets.BuilderConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DownloadConfig.html">datasets.DownloadConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DownloadManager.html">datasets.DownloadManager</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DownloadMode.html">datasets.DownloadMode</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.VerificationMode.html">datasets.VerificationMode</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../loading.html">Loading methods</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_dataset.html">datasets.load_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_dataset_builder.html">datasets.load_dataset_builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_from_disk.html">datasets.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_from_disk.html">datasets.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_config_names.html">datasets.get_dataset_config_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_config_info.html">datasets.get_dataset_config_info</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_infos.html">datasets.get_dataset_infos</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_split_names.html">datasets.get_dataset_split_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_default_config_name.html">datasets.get_dataset_default_config_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.enable_progress_bar.html">datasets.enable_progress_bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.disable_progress_bar.html">datasets.disable_progress_bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.is_progress_bar_enabled.html">datasets.is_progress_bar_enabled</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../utilities.html">Utilities</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.disable_caching.html">datasets.disable_caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.enable_caching.html">datasets.enable_caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.is_caching_enabled.html">datasets.is_caching_enabled</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.fingerprint.Hasher.html">datasets.fingerprint.Hasher</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.get_logger.html">datasets.logging.get_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity.html">datasets.logging.set_verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.get_verbosity.html">datasets.logging.get_verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_info.html">datasets.logging.set_verbosity_info</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_warning.html">datasets.logging.set_verbosity_warning</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_debug.html">datasets.logging.set_verbosity_debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_error.html">datasets.logging.set_verbosity_error</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.__version__.html">datasets.__version__</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">API Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="../dataset.html" class="nav-link">Dataset</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">datasets.Dataset</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="datasets-dataset">
<h1>datasets.Dataset<a class="headerlink" href="#datasets-dataset" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="datasets.Dataset">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datasets.</span></span><span class="sig-name descname"><span class="pre">Dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arrow_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Table</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DatasetInfoMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">IndexableMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TensorflowDatasetMixin</span></code></p>
<p>A Dataset backed by an Arrow table.</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.add_column.html#datasets.Dataset.add_column" title="datasets.Dataset.add_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_column</span></code></a></p></td>
<td><p>Add column to Dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.add_elasticsearch_index.html#datasets.Dataset.add_elasticsearch_index" title="datasets.Dataset.add_elasticsearch_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_elasticsearch_index</span></code></a></p></td>
<td><p>Add a text index using ElasticSearch for fast retrieval.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.add_faiss_index.html#datasets.Dataset.add_faiss_index" title="datasets.Dataset.add_faiss_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_faiss_index</span></code></a></p></td>
<td><p>Add a dense index using Faiss for fast retrieval.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.add_faiss_index_from_external_arrays.html#datasets.Dataset.add_faiss_index_from_external_arrays" title="datasets.Dataset.add_faiss_index_from_external_arrays"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_faiss_index_from_external_arrays</span></code></a></p></td>
<td><p>Add a dense index using Faiss for fast retrieval.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.Dataset.add_item" title="datasets.Dataset.add_item"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_item</span></code></a></p></td>
<td><p>Add item to Dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.align_labels_with_mapping.html#datasets.Dataset.align_labels_with_mapping" title="datasets.Dataset.align_labels_with_mapping"><code class="xref py py-obj docutils literal notranslate"><span class="pre">align_labels_with_mapping</span></code></a></p></td>
<td><p>Align the dataset's label ID and label name mapping to match an input <cite>label2id</cite> mapping.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.batch.html#datasets.Dataset.batch" title="datasets.Dataset.batch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">batch</span></code></a></p></td>
<td><p>Group samples from the dataset into batches.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.cast.html#datasets.Dataset.cast" title="datasets.Dataset.cast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cast</span></code></a></p></td>
<td><p>Cast the dataset to a new set of features.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.cast_column.html#datasets.Dataset.cast_column" title="datasets.Dataset.cast_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cast_column</span></code></a></p></td>
<td><p>Cast column to feature for decoding.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.class_encode_column.html#datasets.Dataset.class_encode_column" title="datasets.Dataset.class_encode_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">class_encode_column</span></code></a></p></td>
<td><p>Casts the given column as [<cite>~datasets.features.ClassLabel</cite>] and updates the table.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.cleanup_cache_files.html#datasets.Dataset.cleanup_cache_files" title="datasets.Dataset.cleanup_cache_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cleanup_cache_files</span></code></a></p></td>
<td><p>Clean up all cache files in the dataset cache directory, excepted the currently used cache file if there is one.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.drop_index.html#datasets.Dataset.drop_index" title="datasets.Dataset.drop_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">drop_index</span></code></a></p></td>
<td><p>Drop the index with the specified column.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.filter.html#datasets.Dataset.filter" title="datasets.Dataset.filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code></a></p></td>
<td><p>Apply a filter function to all the elements in the table in batches and update the table so that the dataset only includes examples according to the filter function.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.flatten.html#datasets.Dataset.flatten" title="datasets.Dataset.flatten"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flatten</span></code></a></p></td>
<td><p>Flatten the table.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.Dataset.flatten_indices" title="datasets.Dataset.flatten_indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flatten_indices</span></code></a></p></td>
<td><p>Create and cache a new Dataset by flattening the indices mapping.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.formatted_as.html#datasets.Dataset.formatted_as" title="datasets.Dataset.formatted_as"><code class="xref py py-obj docutils literal notranslate"><span class="pre">formatted_as</span></code></a></p></td>
<td><p>To be used in a <cite>with</cite> statement.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.from_buffer.html#datasets.Dataset.from_buffer" title="datasets.Dataset.from_buffer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_buffer</span></code></a></p></td>
<td><p>Instantiate a Dataset backed by an Arrow buffer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.from_csv" title="datasets.Dataset.from_csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_csv</span></code></a></p></td>
<td><p>Create Dataset from CSV file(s).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.from_dict.html#datasets.Dataset.from_dict" title="datasets.Dataset.from_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_dict</span></code></a></p></td>
<td><p>Convert <cite>dict</cite> to a <cite>pyarrow.Table</cite> to create a [<cite>Dataset</cite>].</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.from_file.html#datasets.Dataset.from_file" title="datasets.Dataset.from_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_file</span></code></a></p></td>
<td><p>Instantiate a Dataset backed by an Arrow table at filename.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.from_generator.html#datasets.Dataset.from_generator" title="datasets.Dataset.from_generator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_generator</span></code></a></p></td>
<td><p>Create a Dataset from a generator.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.from_json" title="datasets.Dataset.from_json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_json</span></code></a></p></td>
<td><p>Create Dataset from JSON or JSON Lines file(s).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.Dataset.from_list" title="datasets.Dataset.from_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_list</span></code></a></p></td>
<td><p>Convert a list of dicts to a <cite>pyarrow.Table</cite> to create a [<cite>Dataset</cite>]`.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.from_pandas.html#datasets.Dataset.from_pandas" title="datasets.Dataset.from_pandas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_pandas</span></code></a></p></td>
<td><p>Convert <cite>pandas.DataFrame</cite> to a <cite>pyarrow.Table</cite> to create a [<cite>Dataset</cite>].</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.Dataset.from_parquet" title="datasets.Dataset.from_parquet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_parquet</span></code></a></p></td>
<td><p>Create Dataset from Parquet file(s).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.from_polars" title="datasets.Dataset.from_polars"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_polars</span></code></a></p></td>
<td><p>Collect the underlying arrow arrays in an Arrow Table.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.Dataset.from_spark" title="datasets.Dataset.from_spark"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_spark</span></code></a></p></td>
<td><p>Create a Dataset from Spark DataFrame.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.from_sql" title="datasets.Dataset.from_sql"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_sql</span></code></a></p></td>
<td><p>Create Dataset from SQL query or database table.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.Dataset.from_text" title="datasets.Dataset.from_text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_text</span></code></a></p></td>
<td><p>Create Dataset from text file(s).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.get_index.html#datasets.Dataset.get_index" title="datasets.Dataset.get_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_index</span></code></a></p></td>
<td><p>List the <cite>index_name</cite>/identifiers of all the attached indexes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.get_nearest_examples.html#datasets.Dataset.get_nearest_examples" title="datasets.Dataset.get_nearest_examples"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_nearest_examples</span></code></a></p></td>
<td><p>Find the nearest examples in the dataset to the query.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.get_nearest_examples_batch.html#datasets.Dataset.get_nearest_examples_batch" title="datasets.Dataset.get_nearest_examples_batch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_nearest_examples_batch</span></code></a></p></td>
<td><p>Find the nearest examples in the dataset to the query.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_index_initialized</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.iter.html#datasets.Dataset.iter" title="datasets.Dataset.iter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter</span></code></a></p></td>
<td><p>Iterate through the batches of size <cite>batch_size</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.list_indexes.html#datasets.Dataset.list_indexes" title="datasets.Dataset.list_indexes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list_indexes</span></code></a></p></td>
<td><p>List the <cite>colindex_nameumns</cite>/identifiers of all the attached indexes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.load_elasticsearch_index.html#datasets.Dataset.load_elasticsearch_index" title="datasets.Dataset.load_elasticsearch_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_elasticsearch_index</span></code></a></p></td>
<td><p>Load an existing text index using ElasticSearch for fast retrieval.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.load_faiss_index.html#datasets.Dataset.load_faiss_index" title="datasets.Dataset.load_faiss_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_faiss_index</span></code></a></p></td>
<td><p>Load a FaissIndex from disk.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.load_from_disk.html#datasets.Dataset.load_from_disk" title="datasets.Dataset.load_from_disk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_from_disk</span></code></a></p></td>
<td><p>Loads a dataset that was previously saved using [<cite>save_to_disk</cite>] from a dataset directory, or from a filesystem using any implementation of <cite>fsspec.spec.AbstractFileSystem</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.map.html#datasets.Dataset.map" title="datasets.Dataset.map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map</span></code></a></p></td>
<td><p>Apply a function to all the examples in the table (individually or in batches) and update the table.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.push_to_hub.html#datasets.Dataset.push_to_hub" title="datasets.Dataset.push_to_hub"><code class="xref py py-obj docutils literal notranslate"><span class="pre">push_to_hub</span></code></a></p></td>
<td><p>Pushes the dataset to the hub as a Parquet dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.remove_columns.html#datasets.Dataset.remove_columns" title="datasets.Dataset.remove_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_columns</span></code></a></p></td>
<td><p>Remove one or several column(s) in the dataset and the features associated to them.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.rename_column.html#datasets.Dataset.rename_column" title="datasets.Dataset.rename_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename_column</span></code></a></p></td>
<td><p>Rename a column in the dataset, and move the features associated to the original column under the new column name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.rename_columns.html#datasets.Dataset.rename_columns" title="datasets.Dataset.rename_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename_columns</span></code></a></p></td>
<td><p>Rename several columns in the dataset, and move the features associated to the original columns under the new column names.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.repeat" title="datasets.Dataset.repeat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">repeat</span></code></a></p></td>
<td><p>Create a new [<cite>Dataset</cite>] that repeats the underlying dataset <cite>num_times</cite> times.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.reset_format.html#datasets.Dataset.reset_format" title="datasets.Dataset.reset_format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset_format</span></code></a></p></td>
<td><p>Reset <cite>__getitem__</cite> return format to python objects and all columns.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.save_faiss_index.html#datasets.Dataset.save_faiss_index" title="datasets.Dataset.save_faiss_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_faiss_index</span></code></a></p></td>
<td><p>Save a FaissIndex on disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.save_to_disk.html#datasets.Dataset.save_to_disk" title="datasets.Dataset.save_to_disk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_to_disk</span></code></a></p></td>
<td><p>Saves a dataset to a dataset directory, or in a filesystem using any implementation of <cite>fsspec.spec.AbstractFileSystem</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.search.html#datasets.Dataset.search" title="datasets.Dataset.search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search</span></code></a></p></td>
<td><p>Find the nearest examples indices in the dataset to the query.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.search_batch.html#datasets.Dataset.search_batch" title="datasets.Dataset.search_batch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_batch</span></code></a></p></td>
<td><p>Find the nearest examples indices in the dataset to the query.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.select.html#datasets.Dataset.select" title="datasets.Dataset.select"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select</span></code></a></p></td>
<td><p>Create a new dataset with rows selected following the list/array of indices.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.select_columns.html#datasets.Dataset.select_columns" title="datasets.Dataset.select_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select_columns</span></code></a></p></td>
<td><p>Select one or several column(s) in the dataset and the features associated to them.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.set_format.html#datasets.Dataset.set_format" title="datasets.Dataset.set_format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_format</span></code></a></p></td>
<td><p>Set <cite>__getitem__</cite> return format (type and columns).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.set_transform.html#datasets.Dataset.set_transform" title="datasets.Dataset.set_transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_transform</span></code></a></p></td>
<td><p>Set <cite>__getitem__</cite> return format using this transform.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.shard.html#datasets.Dataset.shard" title="datasets.Dataset.shard"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shard</span></code></a></p></td>
<td><p>Return the <cite>index</cite>-nth shard from dataset split into <cite>num_shards</cite> pieces.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.shuffle.html#datasets.Dataset.shuffle" title="datasets.Dataset.shuffle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shuffle</span></code></a></p></td>
<td><p>Create a new Dataset where the rows are shuffled.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.skip" title="datasets.Dataset.skip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skip</span></code></a></p></td>
<td><p>Create a new [<cite>Dataset</cite>] that skips the first <cite>n</cite> elements.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.sort.html#datasets.Dataset.sort" title="datasets.Dataset.sort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sort</span></code></a></p></td>
<td><p>Create a new dataset sorted according to a single or multiple columns.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.take" title="datasets.Dataset.take"><code class="xref py py-obj docutils literal notranslate"><span class="pre">take</span></code></a></p></td>
<td><p>Create a new [<cite>Dataset</cite>] with only the first <cite>n</cite> elements.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.to_csv.html#datasets.Dataset.to_csv" title="datasets.Dataset.to_csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_csv</span></code></a></p></td>
<td><p>Exports the dataset to csv</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.to_dict.html#datasets.Dataset.to_dict" title="datasets.Dataset.to_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_dict</span></code></a></p></td>
<td><p>Returns the dataset as a Python dict.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.to_iterable_dataset.html#datasets.Dataset.to_iterable_dataset" title="datasets.Dataset.to_iterable_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_iterable_dataset</span></code></a></p></td>
<td><p>Get an [<cite>datasets.IterableDataset</cite>] from a map-style [<cite>datasets.Dataset</cite>].</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.to_json.html#datasets.Dataset.to_json" title="datasets.Dataset.to_json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_json</span></code></a></p></td>
<td><p>Export the dataset to JSON Lines or JSON.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.Dataset.to_list" title="datasets.Dataset.to_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_list</span></code></a></p></td>
<td><p>Returns the dataset as a Python list.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.to_pandas.html#datasets.Dataset.to_pandas" title="datasets.Dataset.to_pandas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_pandas</span></code></a></p></td>
<td><p>Returns the dataset as a <cite>pandas.DataFrame</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.to_parquet.html#datasets.Dataset.to_parquet" title="datasets.Dataset.to_parquet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_parquet</span></code></a></p></td>
<td><p>Exports the dataset to parquet</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.to_polars" title="datasets.Dataset.to_polars"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_polars</span></code></a></p></td>
<td><p>Returns the dataset as a <cite>polars.DataFrame</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.to_sql.html#datasets.Dataset.to_sql" title="datasets.Dataset.to_sql"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_sql</span></code></a></p></td>
<td><p>Exports the dataset to a SQL database.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.Dataset.to_tf_dataset" title="datasets.Dataset.to_tf_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_tf_dataset</span></code></a></p></td>
<td><p>Create a <cite>tf.data.Dataset</cite> from the underlying Dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.train_test_split.html#datasets.Dataset.train_test_split" title="datasets.Dataset.train_test_split"><code class="xref py py-obj docutils literal notranslate"><span class="pre">train_test_split</span></code></a></p></td>
<td><p>Return a dictionary ([<cite>datasets.DatasetDict</cite>]) with two random train and test subsets (<cite>train</cite> and <cite>test</cite> <cite>Dataset</cite> splits).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.unique.html#datasets.Dataset.unique" title="datasets.Dataset.unique"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unique</span></code></a></p></td>
<td><p>Return a list of the unique elements in a column.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.with_format.html#datasets.Dataset.with_format" title="datasets.Dataset.with_format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">with_format</span></code></a></p></td>
<td><p>Set <cite>__getitem__</cite> return format (type and columns).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.with_transform.html#datasets.Dataset.with_transform" title="datasets.Dataset.with_transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">with_transform</span></code></a></p></td>
<td><p>Set <cite>__getitem__</cite> return format using this transform.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Attributes</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.builder_name.html#datasets.Dataset.builder_name" title="datasets.Dataset.builder_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">builder_name</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.cache_files.html#datasets.Dataset.cache_files" title="datasets.Dataset.cache_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache_files</span></code></a></p></td>
<td><p>The cache files containing the Apache Arrow table backing the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.citation.html#datasets.Dataset.citation" title="datasets.Dataset.citation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">citation</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.column_names.html#datasets.Dataset.column_names" title="datasets.Dataset.column_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">column_names</span></code></a></p></td>
<td><p>Names of the columns in the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.config_name.html#datasets.Dataset.config_name" title="datasets.Dataset.config_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">config_name</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.data.html#datasets.Dataset.data" title="datasets.Dataset.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code></a></p></td>
<td><p>The Apache Arrow table backing the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataset_size</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.description.html#datasets.Dataset.description" title="datasets.Dataset.description"><code class="xref py py-obj docutils literal notranslate"><span class="pre">description</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.download_checksums.html#datasets.Dataset.download_checksums" title="datasets.Dataset.download_checksums"><code class="xref py py-obj docutils literal notranslate"><span class="pre">download_checksums</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.download_size.html#datasets.Dataset.download_size" title="datasets.Dataset.download_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">download_size</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.features.html#datasets.Dataset.features" title="datasets.Dataset.features"><code class="xref py py-obj docutils literal notranslate"><span class="pre">features</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">format</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.homepage.html#datasets.Dataset.homepage" title="datasets.Dataset.homepage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">homepage</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.info.html#datasets.Dataset.info" title="datasets.Dataset.info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">info</span></code></a></p></td>
<td><p>[<cite>~datasets.DatasetInfo</cite>] object containing all the metadata in the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.license.html#datasets.Dataset.license" title="datasets.Dataset.license"><code class="xref py py-obj docutils literal notranslate"><span class="pre">license</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.num_columns.html#datasets.Dataset.num_columns" title="datasets.Dataset.num_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">num_columns</span></code></a></p></td>
<td><p>Number of columns in the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.num_rows.html#datasets.Dataset.num_rows" title="datasets.Dataset.num_rows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">num_rows</span></code></a></p></td>
<td><p>Number of rows in the dataset (same as [<cite>Dataset.__len__</cite>]).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.shape.html#datasets.Dataset.shape" title="datasets.Dataset.shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></a></p></td>
<td><p>Shape of the dataset (number of columns, number of rows).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.size_in_bytes.html#datasets.Dataset.size_in_bytes" title="datasets.Dataset.size_in_bytes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">size_in_bytes</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.split.html#datasets.Dataset.split" title="datasets.Dataset.split"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code></a></p></td>
<td><p>[<cite>~datasets.NamedSplit</cite>] object corresponding to a named dataset split.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.Dataset.supervised_keys.html#datasets.Dataset.supervised_keys" title="datasets.Dataset.supervised_keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">supervised_keys</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.Dataset.version.html#datasets.Dataset.version" title="datasets.Dataset.version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">version</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_file">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_file" title="Link to this definition">#</a></dt>
<dd><p>Instantiate a Dataset backed by an Arrow table at filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<cite>str</cite>) â€“ File name of the dataset.</p></li>
<li><p><strong>info</strong> (<cite>DatasetInfo</cite>, <em>optional</em>) â€“ Dataset information, like description, citation, etc.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Name of the dataset split.</p></li>
<li><p><strong>indices_filename</strong> (<cite>str</cite>, <em>optional</em>) â€“ File names of the indices.</p></li>
<li><p><strong>in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_buffer">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_buffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://arrow.apache.org/docs/python/generated/pyarrow.Buffer.html#pyarrow.Buffer" title="(in Apache Arrow v22.0.0)"><span class="pre">Buffer</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_buffer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://arrow.apache.org/docs/python/generated/pyarrow.Buffer.html#pyarrow.Buffer" title="(in Apache Arrow v22.0.0)"><span class="pre">Buffer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_buffer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_buffer" title="Link to this definition">#</a></dt>
<dd><p>Instantiate a Dataset backed by an Arrow buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer</strong> (<cite>pyarrow.Buffer</cite>) â€“ Arrow buffer.</p></li>
<li><p><strong>info</strong> (<cite>DatasetInfo</cite>, <em>optional</em>) â€“ Dataset information, like description, citation, etc.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Name of the dataset split.</p></li>
<li><p><strong>indices_buffer</strong> (<cite>pyarrow.Buffer</cite>, <em>optional</em>) â€“ Indices Arrow buffer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_pandas">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_pandas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_pandas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_pandas" title="Link to this definition">#</a></dt>
<dd><p>Convert <cite>pandas.DataFrame</cite> to a <cite>pyarrow.Table</cite> to create a [<cite>Dataset</cite>].</p>
<p>The column types in the resulting Arrow Table are inferred from the dtypes of the <cite>pandas.Series</cite> in the
DataFrame. In the case of non-object Series, the NumPy dtype is translated to its Arrow equivalent. In the
case of <cite>object</cite>, we need to guess the datatype by looking at the Python objects in this Series.</p>
<p>Be aware that Series of the <cite>object</cite> dtype donâ€™t carry enough information to always lead to a meaningful Arrow
type. In the case that we cannot infer a type, e.g. because the DataFrame is of length 0 or the Series only
contains <cite>None/nan</cite> objects, the type is set to <cite>null</cite>. This behavior can be avoided by constructing explicit
features and passing it to this function.</p>
<p>Important: a dataset created with from_pandas() lives in memory
and therefore doesnâ€™t have an associated cache directory.
This may change in the future, but in the meantime if you
want to reduce memory usage you should write it back on disk
and reload using e.g. save_to_disk / load_from_disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<cite>pandas.DataFrame</cite>) â€“ Dataframe that contains the dataset.</p></li>
<li><p><strong>features</strong> ([<cite>Features</cite>], <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>info</strong> (<cite>DatasetInfo</cite>, <em>optional</em>) â€“ Dataset information, like description, citation, etc.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Name of the dataset split.</p></li>
<li><p><strong>preserve_index</strong> (<cite>bool</cite>, <em>optional</em>) â€“ Whether to store the index as an additional column in the resulting Dataset.
The default of <cite>None</cite> will store the index as a column, except for <cite>RangeIndex</cite> which is stored as metadata only.
Use <cite>preserve_index=True</cite> to force it to be stored as a column.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_polars">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_polars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pl.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_polars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_polars" title="Link to this definition">#</a></dt>
<dd><p>Collect the underlying arrow arrays in an Arrow Table.</p>
<p>This operation is mostly zero copy.</p>
<dl class="simple">
<dt>Data types that do copy:</dt><dd><ul class="simple">
<li><p>CategoricalType</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<cite>polars.DataFrame</cite>) â€“ DataFrame to convert to Arrow Table</p></li>
<li><p><strong>features</strong> (<cite>Features</cite>, optional) â€“ Dataset features.</p></li>
<li><p><strong>info</strong> (<cite>DatasetInfo</cite>, optional) â€“ Dataset information, like description, citation, etc.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, optional) â€“ Name of the dataset split.</p></li>
</ul>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_polars</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_dict">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_dict" title="Link to this definition">#</a></dt>
<dd><p>Convert <cite>dict</cite> to a <cite>pyarrow.Table</cite> to create a [<cite>Dataset</cite>].</p>
<p>Important: a dataset created with from_dict() lives in memory
and therefore doesnâ€™t have an associated cache directory.
This may change in the future, but in the meantime if you
want to reduce memory usage you should write it back on disk
and reload using e.g. save_to_disk / load_from_disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mapping</strong> (<cite>Mapping</cite>) â€“ Mapping of strings to Arrays or Python lists.</p></li>
<li><p><strong>features</strong> ([<cite>Features</cite>], <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>info</strong> (<cite>DatasetInfo</cite>, <em>optional</em>) â€“ Dataset information, like description, citation, etc.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Name of the dataset split.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_list">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_list" title="Link to this definition">#</a></dt>
<dd><p>Convert a list of dicts to a <cite>pyarrow.Table</cite> to create a [<cite>Dataset</cite>]`.</p>
<p>Note that the keys of the first entry will be used to determine the dataset columns,
regardless of what is passed to features.</p>
<p>Important: a dataset created with from_list() lives in memory
and therefore doesnâ€™t have an associated cache directory.
This may change in the future, but in the meantime if you
want to reduce memory usage you should write it back on disk
and reload using e.g. save_to_disk / load_from_disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mapping</strong> (<cite>List[dict]</cite>) â€“ A list of mappings of strings to row values.</p></li>
<li><p><strong>features</strong> (<cite>Features</cite>, optional) â€“ Dataset features.</p></li>
<li><p><strong>info</strong> (<cite>DatasetInfo</cite>, optional) â€“ Dataset information, like description, citation, etc.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, optional) â€“ Name of the dataset split.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_csv">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_csv" title="Link to this definition">#</a></dt>
<dd><p>Create Dataset from CSV file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_paths</strong> (<cite>path-like</cite> or list of <cite>path-like</cite>) â€“ Path(s) of the CSV file(s).</p></li>
<li><p><strong>split</strong> ([<cite>NamedSplit</cite>], <em>optional</em>) â€“ Split name to be assigned to the dataset.</p></li>
<li><p><strong>features</strong> ([<cite>Features</cite>], <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>cache_dir</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ~/.cache/huggingface/datasetsâ€</cite>) â€“ Directory to cache data.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <p>Number of processes when downloading and generating the dataset locally.
This is helpful if the dataset is made of multiple files. Multiprocessing is disabled by default.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
<li><p><strong>**kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keyword arguments to be passed to [<cite>pandas.read_csv</cite>].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_csv</span><span class="p">(</span><span class="s1">&#39;path/to/dataset.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_generator">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">NamedSplit('train')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_generator" title="Link to this definition">#</a></dt>
<dd><p>Create a Dataset from a generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong> (<em>generator</em>) â€“ <cite>Callable</cite>):
A generator function that <cite>yields</cite> examples.</p></li>
<li><p><strong>features</strong> ([<cite>Features</cite>], <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>cache_dir</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ~/.cache/huggingface/datasetsâ€</cite>) â€“ Directory to cache data.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>gen_kwargs</strong> (<cite>dict</cite>, <em>optional</em>) â€“ Keyword arguments to be passed to the <cite>generator</cite> callable.
You can define a sharded dataset by passing the list of shards in <cite>gen_kwargs</cite> and setting <cite>num_proc</cite> greater than 1.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <p>Number of processes when downloading and generating the dataset locally.
This is helpful if the dataset is made of multiple files. Multiprocessing is disabled by default.
If <cite>num_proc</cite> is greater than one, then all list values in <cite>gen_kwargs</cite> must be the same length. These values will be split between calls to the generator. The number of shards will be the minimum of the shortest list in <cite>gen_kwargs</cite> and <cite>num_proc</cite>.</p>
<p>&lt;Added version=â€2.7.0â€/&gt;</p>
</p></li>
<li><p><strong>split</strong> ([<cite>NamedSplit</cite>], defaults to <cite>Split.TRAIN</cite>) â€“ <p>Split name to be assigned to the dataset.</p>
<p>&lt;Added version=â€2.21.0â€/&gt;</p>
</p></li>
<li><p><strong>fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ <p>Fingerprint that will be used to generate dataset ID.
By default <cite>fingerprint</cite> is generated by hashing the generator function and all the args which can be slow
if it uses large objects like AI models.</p>
<p>&lt;Added version=â€4.3.0â€/&gt;</p>
</p></li>
<li><p><strong>**kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keyword arguments to be passed to :[<cite>GeneratorConfig</cite>].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">gen</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">yield</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Good&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="gp">... </span>    <span class="k">yield</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_generator</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">gen</span><span class="p">(</span><span class="n">shards</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">shard</span> <span class="ow">in</span> <span class="n">shards</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">shard</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>                <span class="k">yield</span> <span class="p">{</span><span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="n">line</span><span class="p">}</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shards</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;data</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.txt&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_generator</span><span class="p">(</span><span class="n">gen</span><span class="p">,</span> <span class="n">gen_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;shards&quot;</span><span class="p">:</span> <span class="n">shards</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_json">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_json" title="Link to this definition">#</a></dt>
<dd><p>Create Dataset from JSON or JSON Lines file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_paths</strong> (<cite>path-like</cite> or list of <cite>path-like</cite>) â€“ Path(s) of the JSON or JSON Lines file(s).</p></li>
<li><p><strong>split</strong> ([<cite>NamedSplit</cite>], <em>optional</em>) â€“ Split name to be assigned to the dataset.</p></li>
<li><p><strong>features</strong> ([<cite>Features</cite>], <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>cache_dir</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ~/.cache/huggingface/datasetsâ€</cite>) â€“ Directory to cache data.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>field</strong> (<cite>str</cite>, <em>optional</em>) â€“ Field name of the JSON file where the dataset is contained in.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em> defaults to <cite>None</cite>) â€“ <p>Number of processes when downloading and generating the dataset locally.
This is helpful if the dataset is made of multiple files. Multiprocessing is disabled by default.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
<li><p><strong>**kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keyword arguments to be passed to [<cite>JsonConfig</cite>].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="s1">&#39;path/to/dataset.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_parquet">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_parquet" title="Link to this definition">#</a></dt>
<dd><p>Create Dataset from Parquet file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_paths</strong> (<cite>path-like</cite> or list of <cite>path-like</cite>) â€“ Path(s) of the Parquet file(s).</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Split name to be assigned to the dataset.</p></li>
<li><p><strong>features</strong> (<cite>Features</cite>, <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>cache_dir</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ~/.cache/huggingface/datasetsâ€</cite>) â€“ Directory to cache data.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>columns</strong> (<cite>List[str]</cite>, <em>optional</em>) â€“ If not <cite>None</cite>, only these columns will be read from the file.
A column name may be a prefix of a nested field, e.g. â€˜aâ€™ will select
â€˜a.bâ€™, â€˜a.câ€™, and â€˜a.d.eâ€™.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <p>Number of processes when downloading and generating the dataset locally.
This is helpful if the dataset is made of multiple files. Multiprocessing is disabled by default.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
<li><p><strong>**kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keyword arguments to be passed to [<cite>ParquetConfig</cite>].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_parquet</span><span class="p">(</span><span class="s1">&#39;path/to/dataset.parquet&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_text">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_text" title="Link to this definition">#</a></dt>
<dd><p>Create Dataset from text file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_paths</strong> (<cite>path-like</cite> or list of <cite>path-like</cite>) â€“ Path(s) of the text file(s).</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Split name to be assigned to the dataset.</p></li>
<li><p><strong>features</strong> (<cite>Features</cite>, <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>cache_dir</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ~/.cache/huggingface/datasetsâ€</cite>) â€“ Directory to cache data.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <p>Number of processes when downloading and generating the dataset locally.
This is helpful if the dataset is made of multiple files. Multiprocessing is disabled by default.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
<li><p><strong>**kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keyword arguments to be passed to [<cite>TextConfig</cite>].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_text</span><span class="p">(</span><span class="s1">&#39;path/to/dataset.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_spark">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_spark</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pyspark.sql.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_cache_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_spark"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_spark" title="Link to this definition">#</a></dt>
<dd><p>Create a Dataset from Spark DataFrame. Dataset downloading is distributed over Spark workers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<cite>pyspark.sql.DataFrame</cite>) â€“ The DataFrame containing the desired data.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Split name to be assigned to the dataset.</p></li>
<li><p><strong>features</strong> (<cite>Features</cite>, <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>cache_dir</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ~/.cache/huggingface/datasetsâ€</cite>) â€“ Directory to cache data. When using a multi-node Spark cluster, the cache_dir must be accessible to both
workers and the driver.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>working_dir</strong> (<cite>str</cite>, <em>optional</em>) â€“ Intermediate directory for each Spark worker to write data to before moving it to <cite>cache_dir</cite>. Setting
a non-NFS intermediate directory may improve performance.</p></li>
<li><p><strong>load_from_cache_file</strong> (<cite>bool</cite>) â€“ Whether to load the dataset from the cache if possible.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Elia&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Teo&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;Fang&quot;</span><span class="p">]],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_spark</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.from_sql">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">sqlalchemy.sql.Selectable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">con</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">sqlalchemy.engine.Connection</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">sqlalchemy.engine.Engine</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.14)"><span class="pre">sqlite3.Connection</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.from_sql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.from_sql" title="Link to this definition">#</a></dt>
<dd><p>Create Dataset from SQL query or database table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sql</strong> (<cite>str</cite> or <cite>sqlalchemy.sql.Selectable</cite>) â€“ SQL query to be executed or a table name.</p></li>
<li><p><strong>con</strong> (<cite>str</cite> or <cite>sqlite3.Connection</cite> or <cite>sqlalchemy.engine.Connection</cite> or <cite>sqlalchemy.engine.Connection</cite>) â€“ A [URI string](<a class="reference external" href="https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls">https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls</a>) used to instantiate a database connection or a SQLite3/SQLAlchemy connection object.</p></li>
<li><p><strong>features</strong> ([<cite>Features</cite>], <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>cache_dir</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ~/.cache/huggingface/datasetsâ€</cite>) â€“ Directory to cache data.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>**kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keyword arguments to be passed to [<cite>SqlConfig</cite>].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fetch a database table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_sql</span><span class="p">(</span><span class="s2">&quot;test_data&quot;</span><span class="p">,</span> <span class="s2">&quot;postgres:///db_name&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute a SQL query on the table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_sql</span><span class="p">(</span><span class="s2">&quot;SELECT sentence FROM test_data&quot;</span><span class="p">,</span> <span class="s2">&quot;postgres:///db_name&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a Selectable object to specify the query</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">select</span><span class="p">,</span> <span class="n">text</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;sentence&quot;</span><span class="p">)])</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;test_data&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_sql</span><span class="p">(</span><span class="n">stmt</span><span class="p">,</span> <span class="s2">&quot;postgres:///db_name&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt; [!TIP]
&gt; The returned dataset can only be cached if <cite>con</cite> is specified as URI string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.save_to_disk">
<span class="sig-name descname"><span class="pre">save_to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_shard_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.save_to_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.save_to_disk" title="Link to this definition">#</a></dt>
<dd><p>Saves a dataset to a dataset directory, or in a filesystem using any implementation of <cite>fsspec.spec.AbstractFileSystem</cite>.</p>
<p>For [<cite>Image</cite>], [<cite>Audio</cite>] and [<cite>Video</cite>] data:</p>
<p>All the Image(), Audio() and Video() data are stored in the arrow files.
If you want to store paths or urls, please use the Value(â€œstringâ€) type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_path</strong> (<cite>path-like</cite>) â€“ Path (e.g. <cite>dataset/train</cite>) or remote URI (e.g. <cite>s3://my-bucket/dataset/train</cite>)
of the dataset directory where the dataset will be saved to.</p></li>
<li><p><strong>max_shard_size</strong> (<cite>int</cite> or <cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ500MBâ€</cite>) â€“ The maximum size of the dataset shards to be saved to the filesystem. If expressed as a string, needs to be digits followed by a unit
(like <cite>â€œ50MBâ€</cite>).</p></li>
<li><p><strong>num_shards</strong> (<cite>int</cite>, <em>optional</em>) â€“ <p>Number of shards to write. By default the number of shards depends on <cite>max_shard_size</cite> and <cite>num_proc</cite>.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>) â€“ <p>Number of processes when downloading and generating the dataset locally.
Multiprocessing is disabled by default.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">,</span> <span class="n">max_shard_size</span><span class="o">=</span><span class="s2">&quot;1GB&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">,</span> <span class="n">num_shards</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.load_from_disk">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.load_from_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.load_from_disk" title="Link to this definition">#</a></dt>
<dd><p>Loads a dataset that was previously saved using [<cite>save_to_disk</cite>] from a dataset directory, or from a
filesystem using any implementation of <cite>fsspec.spec.AbstractFileSystem</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_path</strong> (<cite>path-like</cite>) â€“ Path (e.g. <cite>â€œdataset/trainâ€</cite>) or remote URI (e.g. <cite>â€œs3//my-bucket/dataset/trainâ€</cite>)
of the dataset directory where the dataset will be loaded from.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>None</cite>) â€“ Whether to copy the dataset in-memory. If <cite>None</cite>, the
dataset will not be copied in-memory unless explicitly enabled by setting
<cite>datasets.config.IN_MEMORY_MAX_SIZE</cite> to nonzero. See more details in the
[improve performance](../cache#improve-performance) section.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <cite>dataset_path</cite> is a path of a dataset directory, the dataset requested.</p></li>
<li><p>If <cite>dataset_path</cite> is a path of a dataset dict directory, a <cite>datasets.DatasetDict</cite> with each split.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>] or [<cite>DatasetDict</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_from_disk</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.data">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Table</span></em><a class="headerlink" href="#datasets.Dataset.data" title="Link to this definition">#</a></dt>
<dd><p>The Apache Arrow table backing the dataset.</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">data</span>
<span class="go">MemoryMappedTable</span>
<span class="go">text: string</span>
<span class="go">label: int64</span>
<span class="go">----</span>
<span class="go">text: [[&quot;compassionately explores the seemingly irreconcilable situation between conservative christian parents and their estranged gay and lesbian children .&quot;,&quot;the soundtrack alone is worth the price of admission .&quot;,&quot;rodriguez does a splendid job of racial profiling hollywood style--casting excellent latin actors of all ages--a trend long overdue .&quot;,&quot;beneath the film&#39;s obvious determination to shock at any cost lies considerable skill and determination , backed by sheer nerve .&quot;,&quot;bielinsky is a filmmaker of impressive talent .&quot;,&quot;so beautifully acted and directed , it&#39;s clear that washington most certainly has a new career ahead of him if he so chooses .&quot;,&quot;a visual spectacle full of stunning images and effects .&quot;,&quot;a gentle and engrossing character study .&quot;,&quot;it&#39;s enough to watch huppert scheming , with her small , intelligent eyes as steady as any noir villain , and to enjoy the perfectly pitched web of tension that chabrol spins .&quot;,&quot;an engrossing portrait of uncompromising artists trying to create something original against the backdrop of a corporate music industry that only seems to care about the bottom line .&quot;,...,&quot;ultimately , jane learns her place as a girl , softens up and loses some of the intensity that made her an interesting character to begin with .&quot;,&quot;ah-nuld&#39;s action hero days might be over .&quot;,&quot;it&#39;s clear why deuces wild , which was shot two years ago , has been gathering dust on mgm&#39;s shelf .&quot;,&quot;feels like nothing quite so much as a middle-aged moviemaker&#39;s attempt to surround himself with beautiful , half-naked women .&quot;,&quot;when the precise nature of matthew&#39;s predicament finally comes into sharp focus , the revelation fails to justify the build-up .&quot;,&quot;this picture is murder by numbers , and as easy to be bored by as your abc&#39;s , despite a few whopping shootouts .&quot;,&quot;hilarious musical comedy though stymied by accents thick as mud .&quot;,&quot;if you are into splatter movies , then you will probably have a reasonably good time with the salton sea .&quot;,&quot;a dull , simple-minded and stereotypical tale of drugs , death and mind-numbing indifference on the inner-city streets .&quot;,&quot;the feature-length stretch . . . strains the show&#39;s concept .&quot;]]</span>
<span class="go">label: [[1,1,1,1,1,1,1,1,1,1,...,0,0,0,0,0,0,0,0,0,0]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.cache_files">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache_files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#datasets.Dataset.cache_files" title="Link to this definition">#</a></dt>
<dd><p>The cache files containing the Apache Arrow table backing the dataset.</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">cache_files</span>
<span class="go">[{&#39;filename&#39;: &#39;/root/.cache/huggingface/datasets/rotten_tomatoes_movie_review/default/1.0.0/40d411e45a6ce3484deed7cc15b82a53dad9a72aafd9f86f8f227134bec5ca46/rotten_tomatoes_movie_review-validation.arrow&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.num_columns">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></em><a class="headerlink" href="#datasets.Dataset.num_columns" title="Link to this definition">#</a></dt>
<dd><p>Number of columns in the dataset.</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">num_columns</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.num_rows">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_rows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></em><a class="headerlink" href="#datasets.Dataset.num_rows" title="Link to this definition">#</a></dt>
<dd><p>Number of rows in the dataset (same as [<cite>Dataset.__len__</cite>]).</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">num_rows</span>
<span class="go">1066</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.column_names">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">column_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#datasets.Dataset.column_names" title="Link to this definition">#</a></dt>
<dd><p>Names of the columns in the dataset.</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">column_names</span>
<span class="go">[&#39;text&#39;, &#39;label&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.shape">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#datasets.Dataset.shape" title="Link to this definition">#</a></dt>
<dd><p>Shape of the dataset (number of columns, number of rows).</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1066, 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.unique">
<span class="sig-name descname"><span class="pre">unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.unique" title="Link to this definition">#</a></dt>
<dd><p>Return a list of the unique elements in a column.</p>
<p>This is implemented in the low-level backend and as such, very fast.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column</strong> (<cite>str</cite>) â€“ Column name (list all the column names with [<cite>~datasets.Dataset.column_names</cite>]).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of unique elements in the given column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>list</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">)</span>
<span class="go">[1, 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.class_encode_column">
<span class="sig-name descname"><span class="pre">class_encode_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_nulls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.class_encode_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.class_encode_column" title="Link to this definition">#</a></dt>
<dd><p>Casts the given column as [<cite>~datasets.features.ClassLabel</cite>] and updates the table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<cite>str</cite>) â€“ The name of the column to cast (list all the column names with [<cite>~datasets.Dataset.column_names</cite>])</p></li>
<li><p><strong>include_nulls</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ <p>Whether to include null values in the class labels. If <cite>True</cite>, the null values will be encoded as the <cite>â€œNoneâ€</cite> class label.</p>
<p>&lt;Added version=â€1.14.2â€/&gt;</p>
</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;google/boolq&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;answer&#39;: Value(&#39;bool&#39;),</span>
<span class="go"> &#39;passage&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;question&#39;: Value(&#39;string&#39;)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">class_encode_column</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;answer&#39;: ClassLabel(num_classes=2, names=[&#39;False&#39;, &#39;True&#39;]),</span>
<span class="go"> &#39;passage&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;question&#39;: Value(&#39;string&#39;)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.flatten">
<span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.flatten" title="Link to this definition">#</a></dt>
<dd><p>Flatten the table.
Each column with a struct type is flattened into one column per struct field.
Other columns are left unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with flattened columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;rajpurkar/squad&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;id&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;title&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;context&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;question&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;answers&#39;: {&#39;text&#39;: List(Value(&#39;string&#39;)),</span>
<span class="go"> &#39;answer_start&#39;: List(Value(&#39;int32&#39;))}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;id&#39;, &#39;title&#39;, &#39;context&#39;, &#39;question&#39;, &#39;answers.text&#39;, &#39;answers.answer_start&#39;],</span>
<span class="go">    num_rows: 87599</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.cast">
<span class="sig-name descname"><span class="pre">cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_cache_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.cast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.cast" title="Link to this definition">#</a></dt>
<dd><p>Cast the dataset to a new set of features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>features</strong> ([<cite>Features</cite>]) â€“ New features to cast the dataset to.
The name of the fields in the features must match the current column names.
The type of the data must also be convertible from one type to the other.
For non-trivial conversion, e.g. <cite>str</cite> &lt;-&gt; <cite>ClassLabel</cite> you should use [<cite>~datasets.Dataset.map</cite>] to update the Dataset.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of examples per batch provided to cast.
If <cite>batch_size &lt;= 0</cite> or <cite>batch_size == None</cite> then provide the full dataset as a single batch to cast.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to copy the data in-memory.</p></li>
<li><p><strong>load_from_cache_file</strong> (<cite>bool</cite>, defaults to <cite>True</cite> if caching is enabled) â€“ If a cache file storing the current computation from <cite>function</cite>
can be identified, use it instead of recomputing.</p></li>
<li><p><strong>cache_file_name</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Provide the name of a path for the cache file. It is used to store the
results of the computation instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running [<cite>~datasets.Dataset.map</cite>].</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Number of processes for multiprocessing. By default it doesnâ€™t
use multiprocessing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with casted features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span><span class="p">,</span> <span class="n">ClassLabel</span><span class="p">,</span> <span class="n">Value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;label&#39;: ClassLabel(names=[&#39;neg&#39;, &#39;pos&#39;]),</span>
<span class="go"> &#39;text&#39;: Value(&#39;string&#39;)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_features</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_features</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ClassLabel</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;bad&#39;</span><span class="p">,</span> <span class="s1">&#39;good&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_features</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Value</span><span class="p">(</span><span class="s1">&#39;large_string&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">new_features</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;label&#39;: ClassLabel(names=[&#39;bad&#39;, &#39;good&#39;]),</span>
<span class="go"> &#39;text&#39;: Value(&#39;large_string&#39;)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.cast_column">
<span class="sig-name descname"><span class="pre">cast_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Value.html#datasets.Value" title="datasets.features.features.Value"><span class="pre">Value</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.ClassLabel.html#datasets.ClassLabel" title="datasets.features.features.ClassLabel"><span class="pre">ClassLabel</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Translation.html#datasets.Translation" title="datasets.features.translation.Translation"><span class="pre">Translation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.TranslationVariableLanguages.html#datasets.TranslationVariableLanguages" title="datasets.features.translation.TranslationVariableLanguages"><span class="pre">TranslationVariableLanguages</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">LargeList</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array2D.html#datasets.Array2D" title="datasets.features.features.Array2D"><span class="pre">Array2D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array3D.html#datasets.Array3D" title="datasets.features.features.Array3D"><span class="pre">Array3D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array4D.html#datasets.Array4D" title="datasets.features.features.Array4D"><span class="pre">Array4D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array5D.html#datasets.Array5D" title="datasets.features.features.Array5D"><span class="pre">Array5D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Audio.html#datasets.Audio" title="datasets.features.audio.Audio"><span class="pre">Audio</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Image.html#datasets.Image" title="datasets.features.image.Image"><span class="pre">Image</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Video</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Pdf</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Nifti</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.cast_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.cast_column" title="Link to this definition">#</a></dt>
<dd><p>Cast column to feature for decoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<cite>str</cite>) â€“ Column name.</p></li>
<li><p><strong>feature</strong> (<cite>FeatureType</cite>) â€“ Target feature.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span><span class="p">,</span> <span class="n">ClassLabel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;label&#39;: ClassLabel(names=[&#39;neg&#39;, &#39;pos&#39;]),</span>
<span class="go"> &#39;text&#39;: Value(&#39;string&#39;)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">cast_column</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="n">ClassLabel</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;bad&#39;</span><span class="p">,</span> <span class="s1">&#39;good&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;label&#39;: ClassLabel(names=[&#39;bad&#39;, &#39;good&#39;]),</span>
<span class="go"> &#39;text&#39;: Value(&#39;string&#39;)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.remove_columns">
<span class="sig-name descname"><span class="pre">remove_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.remove_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.remove_columns" title="Link to this definition">#</a></dt>
<dd><p>Remove one or several column(s) in the dataset and the features associated to them.</p>
<p>You can also remove a column using [<cite>~datasets.Dataset.map</cite>] with <cite>remove_columns</cite> but the present method
doesnâ€™t copy the data of the remaining columns and is thus faster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<cite>Union[str, List[str]]</cite>) â€“ Name of the column(s) to remove.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset object without the columns to remove.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">remove_columns</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">)</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;],</span>
<span class="go">    num_rows: 1066</span>
<span class="go">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">remove_columns</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="n">ds</span><span class="o">.</span><span class="n">column_names</span><span class="p">)</span> <span class="c1"># Removing all the columns returns an empty dataset with the `num_rows` property set to 0</span>
<span class="go">Dataset({</span>
<span class="go">    features: [],</span>
<span class="go">    num_rows: 0</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.rename_column">
<span class="sig-name descname"><span class="pre">rename_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_column_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_column_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.rename_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.rename_column" title="Link to this definition">#</a></dt>
<dd><p>Rename a column in the dataset, and move the features associated to the original column under the new column
name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_column_name</strong> (<cite>str</cite>) â€“ Name of the column to rename.</p></li>
<li><p><strong>new_column_name</strong> (<cite>str</cite>) â€“ New name for the column.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with a renamed column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;label_new&#39;</span><span class="p">)</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;, &#39;label_new&#39;],</span>
<span class="go">    num_rows: 1066</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.rename_columns">
<span class="sig-name descname"><span class="pre">rename_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.rename_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.rename_columns" title="Link to this definition">#</a></dt>
<dd><p>Rename several columns in the dataset, and move the features associated to the original columns under
the new column names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_mapping</strong> (<cite>Dict[str, str]</cite>) â€“ A mapping of columns to rename to their new names</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with renamed columns</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">rename_columns</span><span class="p">({</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;text_new&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;label_new&#39;</span><span class="p">})</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text_new&#39;, &#39;label_new&#39;],</span>
<span class="go">    num_rows: 1066</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.select_columns">
<span class="sig-name descname"><span class="pre">select_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.select_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.select_columns" title="Link to this definition">#</a></dt>
<dd><p>Select one or several column(s) in the dataset and the features
associated to them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<cite>Union[str, List[str]]</cite>) â€“ Name of the column(s) to keep.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ The new fingerprint of the dataset after transform. If <cite>None</cite>,
the new fingerprint is computed using a hash of the previous
fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset object which only consists of
selected columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">select_columns</span><span class="p">([</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;],</span>
<span class="go">    num_rows: 1066</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.iter">
<span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_last_batch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.iter" title="Link to this definition">#</a></dt>
<dd><p>Iterate through the batches of size <cite>batch_size</cite>.</p>
<p>If a formatting is set with [<cite>~datasets.Dataset.set_format</cite>] rows will be returned with the
selected format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) â€“ size of each batch to yield.</p></li>
<li><p><strong>drop_last_batch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default <cite>False</cite>) â€“ Whether a last batch smaller than the batch_size should be
dropped</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.formatted_as">
<span class="sig-name descname"><span class="pre">formatted_as</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_all_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">format_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.formatted_as"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.formatted_as" title="Link to this definition">#</a></dt>
<dd><p>To be used in a <cite>with</cite> statement. Set <cite>__getitem__</cite> return format (type and columns).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<cite>str</cite>, <em>optional</em>) â€“ Either output type selected in <cite>[None, â€˜numpyâ€™, â€˜torchâ€™, â€˜tensorflowâ€™, â€˜jaxâ€™, â€˜arrowâ€™, â€˜pandasâ€™, â€˜polarsâ€™]</cite>.
<cite>None</cite> means <cite>__getitem__`</cite> returns python objects (default).</p></li>
<li><p><strong>columns</strong> (<cite>List[str]</cite>, <em>optional</em>) â€“ Columns to format in the output.
<cite>None</cite> means <cite>__getitem__</cite> returns all columns (default).</p></li>
<li><p><strong>output_all_columns</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep un-formatted columns as well in the output (as python objects).</p></li>
<li><p><strong>**format_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keywords arguments passed to the convert function like <cite>np.array</cite>, <cite>torch.tensor</cite> or <cite>tensorflow.ragged.constant</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.set_format">
<span class="sig-name descname"><span class="pre">set_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_all_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">format_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.set_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.set_format" title="Link to this definition">#</a></dt>
<dd><p>Set <cite>__getitem__</cite> return format (type and columns). The data formatting is applied on-the-fly.
The format <cite>type</cite> (for example â€œnumpyâ€) is used to format batches when using <cite>__getitem__</cite>.
Itâ€™s also possible to use custom transforms for formatting using [<cite>~datasets.Dataset.set_transform</cite>].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<cite>str</cite>, <em>optional</em>) â€“ Either output type selected in <cite>[None, â€˜numpyâ€™, â€˜torchâ€™, â€˜tensorflowâ€™, â€˜jaxâ€™, â€˜arrowâ€™, â€˜pandasâ€™, â€˜polarsâ€™]</cite>.
<cite>None</cite> means <cite>__getitem__</cite> returns python objects (default).</p></li>
<li><p><strong>columns</strong> (<cite>List[str]</cite>, <em>optional</em>) â€“ Columns to format in the output.
<cite>None</cite> means <cite>__getitem__</cite> returns all columns (default).</p></li>
<li><p><strong>output_all_columns</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep un-formatted columns as well in the output (as python objects).</p></li>
<li><p><strong>**format_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keywords arguments passed to the convert function like <cite>np.array</cite>, <cite>torch.tensor</cite> or <cite>tensorflow.ragged.constant</cite>.</p></li>
</ul>
</dd>
</dl>
<p>It is possible to call [<cite>~datasets.Dataset.map</cite>] after calling <cite>set_format</cite>. Since <cite>map</cite> may add new columns, then the list of formatted columns
gets updated. In this case, if you apply <cite>map</cite> on a dataset to add a new column, then this column will be formatted as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new</span> <span class="n">formatted</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">(</span><span class="nb">all</span> <span class="n">columns</span> <span class="o">-</span> <span class="n">previously</span> <span class="n">unformatted</span> <span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">transformers</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;bert-base-cased&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">batched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;numpy&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">format</span>
<span class="go">{&#39;type&#39;: &#39;numpy&#39;,</span>
<span class="go">&#39;format_kwargs&#39;: {},</span>
<span class="go">&#39;columns&#39;: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">&#39;output_all_columns&#39;: False}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.reset_format">
<span class="sig-name descname"><span class="pre">reset_format</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.reset_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.reset_format" title="Link to this definition">#</a></dt>
<dd><p>Reset <cite>__getitem__</cite> return format to python objects and all columns.</p>
<p>Same as <cite>self.set_format()</cite></p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">transformers</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;bert-base-cased&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">batched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;numpy&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;input_ids&#39;</span><span class="p">,</span> <span class="s1">&#39;token_type_ids&#39;</span><span class="p">,</span> <span class="s1">&#39;attention_mask&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">format</span>
<span class="go">{&#39;columns&#39;: [&#39;input_ids&#39;, &#39;token_type_ids&#39;, &#39;attention_mask&#39;, &#39;label&#39;],</span>
<span class="go"> &#39;format_kwargs&#39;: {},</span>
<span class="go"> &#39;output_all_columns&#39;: False,</span>
<span class="go"> &#39;type&#39;: &#39;numpy&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">reset_format</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">format</span>
<span class="go">{&#39;columns&#39;: [&#39;text&#39;, &#39;label&#39;, &#39;input_ids&#39;, &#39;token_type_ids&#39;, &#39;attention_mask&#39;],</span>
<span class="go"> &#39;format_kwargs&#39;: {},</span>
<span class="go"> &#39;output_all_columns&#39;: False,</span>
<span class="go"> &#39;type&#39;: None}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.set_transform">
<span class="sig-name descname"><span class="pre">set_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_all_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.set_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.set_transform" title="Link to this definition">#</a></dt>
<dd><p>Set <cite>__getitem__</cite> return format using this transform. The transform is applied on-the-fly on batches when <cite>__getitem__</cite> is called.
As [<cite>~datasets.Dataset.set_format</cite>], this can be reset using [<cite>~datasets.Dataset.reset_format</cite>].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transform</strong> (<cite>Callable</cite>, <em>optional</em>) â€“ User-defined formatting transform, replaces the format defined by [<cite>~datasets.Dataset.set_format</cite>].
A formatting function is a callable that takes a batch (as a <cite>dict</cite>) as input and returns a batch.
This function is applied right before returning the objects in <cite>__getitem__</cite>.</p></li>
<li><p><strong>columns</strong> (<cite>List[str]</cite>, <em>optional</em>) â€“ Columns to format in the output.
If specified, then the input batch of the transform only contains those columns.</p></li>
<li><p><strong>output_all_columns</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep un-formatted columns as well in the output (as python objects).
If set to True, then the other un-formatted columns are kept with the output of the transform.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">transformers</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">&#39;bert-base-uncased&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">encode</span><span class="p">(</span><span class="n">batch</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">batch</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">padding</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_tensors</span><span class="o">=</span><span class="s1">&#39;pt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">set_transform</span><span class="p">(</span><span class="n">encode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">{&#39;attention_mask&#39;: tensor([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,</span>
<span class="go"> 1, 1]),</span>
<span class="go"> &#39;input_ids&#39;: tensor([  101, 29353,  2135, 15102,  1996,  9428, 20868,  2890,  8663,  6895,</span>
<span class="go">         20470,  2571,  3663,  2090,  4603,  3017,  3008,  1998,  2037, 24211,</span>
<span class="go">         5637,  1998, 11690,  2336,  1012,   102]),</span>
<span class="go"> &#39;token_type_ids&#39;: tensor([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">         0, 0])}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.with_format">
<span class="sig-name descname"><span class="pre">with_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_all_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">format_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.with_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.with_format" title="Link to this definition">#</a></dt>
<dd><p>Set <cite>__getitem__</cite> return format (type and columns). The data formatting is applied on-the-fly.
The format <cite>type</cite> (for example â€œnumpyâ€) is used to format batches when using <cite>__getitem__</cite>.</p>
<p>Itâ€™s also possible to use custom transforms for formatting using [<cite>~datasets.Dataset.with_transform</cite>].</p>
<p>Contrary to [<cite>~datasets.Dataset.set_format</cite>], <cite>with_format</cite> returns a new [<cite>Dataset</cite>] object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<cite>str</cite>, <em>optional</em>) â€“ Either output type selected in <cite>[None, â€˜numpyâ€™, â€˜torchâ€™, â€˜tensorflowâ€™, â€˜jaxâ€™, â€˜arrowâ€™, â€˜pandasâ€™, â€˜polarsâ€™]</cite>.
<cite>None</cite> means <cite>__getitem__</cite> returns python objects (default).</p></li>
<li><p><strong>columns</strong> (<cite>List[str]</cite>, <em>optional</em>) â€“ Columns to format in the output.
<cite>None</cite> means <cite>__getitem__</cite> returns all columns (default).</p></li>
<li><p><strong>output_all_columns</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep un-formatted columns as well in the output (as python objects).</p></li>
<li><p><strong>**format_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Keywords arguments passed to the convert function like <cite>np.array</cite>, <cite>torch.tensor</cite> or <cite>tensorflow.ragged.constant</cite>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">transformers</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;bert-base-cased&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">batched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">format</span>
<span class="go">{&#39;columns&#39;: [&#39;text&#39;, &#39;label&#39;, &#39;input_ids&#39;, &#39;token_type_ids&#39;, &#39;attention_mask&#39;],</span>
<span class="go"> &#39;format_kwargs&#39;: {},</span>
<span class="go"> &#39;output_all_columns&#39;: False,</span>
<span class="go"> &#39;type&#39;: None}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">with_format</span><span class="p">(</span><span class="s2">&quot;torch&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">format</span>
<span class="go">{&#39;columns&#39;: [&#39;text&#39;, &#39;label&#39;, &#39;input_ids&#39;, &#39;token_type_ids&#39;, &#39;attention_mask&#39;],</span>
<span class="go"> &#39;format_kwargs&#39;: {},</span>
<span class="go"> &#39;output_all_columns&#39;: False,</span>
<span class="go"> &#39;type&#39;: &#39;torch&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">{&#39;text&#39;: &#39;compassionately explores the seemingly irreconcilable situation between conservative christian parents and their estranged gay and lesbian children .&#39;,</span>
<span class="go"> &#39;label&#39;: tensor(1),</span>
<span class="go"> &#39;input_ids&#39;: tensor([  101, 18027, 16310, 16001,  1103,  9321,   178, 11604,  7235,  6617,</span>
<span class="go">        1742,  2165,  2820,  1206,  6588, 22572, 12937,  1811,  2153,  1105,</span>
<span class="go">        1147, 12890, 19587,  6463,  1105, 15026,  1482,   119,   102,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0]),</span>
<span class="go"> &#39;token_type_ids&#39;: tensor([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),</span>
<span class="go"> &#39;attention_mask&#39;: tensor([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,</span>
<span class="go">        1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.with_transform">
<span class="sig-name descname"><span class="pre">with_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_all_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.with_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.with_transform" title="Link to this definition">#</a></dt>
<dd><p>Set <cite>__getitem__</cite> return format using this transform. The transform is applied on-the-fly on batches when <cite>__getitem__</cite> is called.</p>
<p>As [<cite>~datasets.Dataset.set_format</cite>], this can be reset using [<cite>~datasets.Dataset.reset_format</cite>].</p>
<p>Contrary to [<cite>~datasets.Dataset.set_transform</cite>], <cite>with_transform</cite> returns a new [<cite>Dataset</cite>] object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transform</strong> (<cite>Callable</cite>, <cite>optional</cite>) â€“ User-defined formatting transform, replaces the format defined by [<cite>~datasets.Dataset.set_format</cite>].
A formatting function is a callable that takes a batch (as a <cite>dict</cite>) as input and returns a batch.
This function is applied right before returning the objects in <cite>__getitem__</cite>.</p></li>
<li><p><strong>columns</strong> (<cite>List[str]</cite>, <cite>optional</cite>) â€“ Columns to format in the output.
If specified, then the input batch of the transform only contains those columns.</p></li>
<li><p><strong>output_all_columns</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep un-formatted columns as well in the output (as python objects).
If set to <cite>True</cite>, then the other un-formatted columns are kept with the output of the transform.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">transformers</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;bert-base-cased&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">encode</span><span class="p">(</span><span class="n">example</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">example</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span> <span class="n">padding</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_tensors</span><span class="o">=</span><span class="s1">&#39;pt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">with_transform</span><span class="p">(</span><span class="n">encode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">{&#39;attention_mask&#39;: tensor([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,</span>
<span class="go"> 1, 1, 1, 1, 1]),</span>
<span class="go"> &#39;input_ids&#39;: tensor([  101, 18027, 16310, 16001,  1103,  9321,   178, 11604,  7235,  6617,</span>
<span class="go">         1742,  2165,  2820,  1206,  6588, 22572, 12937,  1811,  2153,  1105,</span>
<span class="go">         1147, 12890, 19587,  6463,  1105, 15026,  1482,   119,   102]),</span>
<span class="go"> &#39;token_type_ids&#39;: tensor([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">         0, 0, 0, 0, 0])}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.cleanup_cache_files">
<span class="sig-name descname"><span class="pre">cleanup_cache_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.cleanup_cache_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.cleanup_cache_files" title="Link to this definition">#</a></dt>
<dd><p>Clean up all cache files in the dataset cache directory, excepted the currently used cache file if there is
one.</p>
<p>Be careful when running this command that no other process is currently using other cache files.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of removed files.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">cleanup_cache_files</span><span class="p">()</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_last_batch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_cache_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_nullable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'_{rank:05d}_of_{num_proc:05d}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_original_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.map" title="Link to this definition">#</a></dt>
<dd><p>Apply a function to all the examples in the table (individually or in batches) and update the table.
If your function returns a column that already exists, then it overwrites it.</p>
<p>You can specify whether the function should be batched or not with the <cite>batched</cite> parameter:</p>
<ul class="simple">
<li><p>If batched is <cite>False</cite>, then the function takes 1 example in and should return 1 example.
An example is a dictionary, e.g. <cite>{â€œtextâ€: â€œHello there !â€}</cite>.</p></li>
<li><p>If batched is <cite>True</cite> and <cite>batch_size</cite> is 1, then the function takes a batch of 1 example as input and can return a batch with 1 or more examples.
A batch is a dictionary, e.g. a batch of 1 example is <cite>{â€œtextâ€: [â€œHello there !â€]}</cite>.</p></li>
<li><p>If batched is <cite>True</cite> and <cite>batch_size</cite> is <cite>n &gt; 1</cite>, then the function takes a batch of <cite>n</cite> examples as input and can return a batch with <cite>n</cite> examples, or with an arbitrary number of examples.
Note that the last batch may have less than <cite>n</cite> examples.
A batch is a dictionary, e.g. a batch of <cite>n</cite> examples is <cite>{â€œtextâ€: [â€œHello there !â€] * n}</cite>.</p></li>
</ul>
<p>If the function is asynchronous, then <cite>map</cite> will run your function in parallel, with up to one thousand simultaneous calls.
It is recommended to use a <cite>asyncio.Semaphore</cite> in your function if you want to set a maximum number of operations that can run at the same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<cite>Callable</cite>) â€“ <p>Function with one of the following signatures:</p>
<ul>
<li><p><cite>function(example: Dict[str, Any]) -&gt; Dict[str, Any]</cite> if <cite>batched=False</cite> and <cite>with_indices=False</cite> and <cite>with_rank=False</cite></p></li>
<li><p><cite>function(example: Dict[str, Any], *extra_args) -&gt; Dict[str, Any]</cite> if <cite>batched=False</cite> and <cite>with_indices=True</cite> and/or <cite>with_rank=True</cite> (one extra arg for each)</p></li>
<li><p><cite>function(batch: Dict[str, List]) -&gt; Dict[str, List]</cite> if <cite>batched=True</cite> and <cite>with_indices=False</cite> and <cite>with_rank=False</cite></p></li>
<li><p><cite>function(batch: Dict[str, List], *extra_args) -&gt; Dict[str, List]</cite> if <cite>batched=True</cite> and <cite>with_indices=True</cite> and/or <cite>with_rank=True</cite> (one extra arg for each)</p></li>
</ul>
<p>For advanced usage, the function can also return a <cite>pyarrow.Table</cite>.
If the function is asynchronous, then <cite>map</cite> will run your function in parallel.
Moreover if your function returns nothing (<cite>None</cite>), then <cite>map</cite> will run your function and return the dataset unchanged.
If no function is provided, default to identity function: <cite>lambda x: x</cite>.</p>
</p></li>
<li><p><strong>with_indices</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide example indices to <cite>function</cite>. Note that in this case the
signature of <cite>function</cite> should be <cite>def function(example, idx[, rank]): â€¦</cite>.</p></li>
<li><p><strong>with_rank</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide process rank to <cite>function</cite>. Note that in this case the
signature of <cite>function</cite> should be <cite>def function(example[, idx], rank): â€¦</cite>.</p></li>
<li><p><strong>input_columns</strong> (<cite>Optional[Union[str, List[str]]]</cite>, defaults to <cite>None</cite>) â€“ The columns to be passed into <cite>function</cite>
as positional arguments. If <cite>None</cite>, a <cite>dict</cite> mapping to all formatted columns is passed as one argument.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide batch of examples to <cite>function</cite>.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>1000</cite>) â€“ Number of examples per batch provided to <cite>function</cite> if <cite>batched=True</cite>.
If <cite>batch_size &lt;= 0</cite> or <cite>batch_size == None</cite>, provide the full dataset as a single batch to <cite>function</cite>.</p></li>
<li><p><strong>drop_last_batch</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether a last batch smaller than the batch_size should be
dropped instead of being processed by the function.</p></li>
<li><p><strong>remove_columns</strong> (<cite>Optional[Union[str, List[str]]]</cite>, defaults to <cite>None</cite>) â€“ Remove a selection of columns while doing the mapping.
Columns will be removed before updating the examples with the output of <cite>function</cite>, i.e. if <cite>function</cite> is adding
columns with names in <cite>remove_columns</cite>, these columns will be kept.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep the dataset in memory instead of writing it to a cache file.</p></li>
<li><p><strong>load_from_cache_file</strong> (<cite>Optional[bool]</cite>, defaults to <cite>True</cite> if caching is enabled) â€“ If a cache file storing the current computation from <cite>function</cite>
can be identified, use it instead of recomputing.</p></li>
<li><p><strong>cache_file_name</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Provide the name of a path for the cache file. It is used to store the
results of the computation instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running <cite>map</cite>.</p></li>
<li><p><strong>features</strong> (<cite>Optional[datasets.Features]</cite>, defaults to <cite>None</cite>) â€“ Use a specific Features to store the cache file
instead of the automatically generated one.</p></li>
<li><p><strong>disable_nullable</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Disallow null values in the table.</p></li>
<li><p><strong>fn_kwargs</strong> (<cite>Dict</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Keyword arguments to be passed to <cite>function</cite>.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <dl>
<dt>The number of processes to use for multiprocessing.</dt><dd><ul>
<li><p>If <cite>None</cite> or <cite>0</cite>, no multiprocessing is used and the operation runs in the main process.</p></li>
<li><p>If greater than <cite>1</cite>, one or multiple worker processes are used to process data in parallel.</p></li>
</ul>
<blockquote>
<div><p>Note: The function passed to <cite>map()</cite> must be picklable for multiprocessing to work correctly
(i.e., prefer functions defined at the top level of a module, not inside another function or class).</p>
</div></blockquote>
</dd>
<dt>suffix_template (<cite>str</cite>):</dt><dd><p>If <cite>cache_file_name</cite> is specified, then this suffix
will be added at the end of the base name of each. Defaults to <cite>â€œ_{rank:05d}_of_{num_proc:05d}â€</cite>. For example, if <cite>cache_file_name</cite> is â€œprocessed.arrowâ€, then for
<cite>rank=1</cite> and <cite>num_proc=4</cite>, the resulting file would be <cite>â€œprocessed_00001_of_00004.arrowâ€</cite> for the default suffix.</p>
</dd>
</dl>
</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
<li><p><strong>desc</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Meaningful description to be displayed alongside with the progress bar while mapping examples.</p></li>
<li><p><strong>try_original_type</strong> (<cite>Optional[bool]</cite>, defaults to <cite>True</cite>) â€“ Try to keep the types of the original columns (e.g. int32 -&gt; int32).
Set to False if you want to always infer new types.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">add_prefix</span><span class="p">(</span><span class="n">example</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">example</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Review: &quot;</span> <span class="o">+</span> <span class="n">example</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">add_prefix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">][</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
<span class="go">[&#39;Review: compassionately explores the seemingly irreconcilable situation between conservative christian parents and their estranged gay and lesbian children .&#39;,</span>
<span class="go"> &#39;Review: the soundtrack alone is worth the price of admission .&#39;,</span>
<span class="go"> &#39;Review: rodriguez does a splendid job of racial profiling hollywood style--casting excellent latin actors of all ages--a trend long overdue .&#39;]</span>

<span class="go"># process a batch of examples</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">example</span><span class="p">:</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">example</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]),</span> <span class="n">batched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># set number of processors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">add_prefix</span><span class="p">,</span> <span class="n">num_proc</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_last_batch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.batch" title="Link to this definition">#</a></dt>
<dd><p>Group samples from the dataset into batches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>) â€“ The number of samples in each batch.</p></li>
<li><p><strong>drop_last_batch</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to drop the last incomplete batch.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Max number of processes when generating cache. Already cached shards are loaded sequentially.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Dataset where each item is a batch of multiple samples from the original dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batched_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batched_ds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">{&#39;text&#39;: [&#39;compassionately explores the seemingly irreconcilable situation...&#39;, ...],  # 4 items</span>
<span class="go">&#39;label&#39;: [1, 1, 1, 1]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_cache_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'_{rank:05d}_of_{num_proc:05d}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.filter" title="Link to this definition">#</a></dt>
<dd><p>Apply a filter function to all the elements in the table in batches
and update the table so that the dataset only includes examples according to the filter function.</p>
<p>If the function is asynchronous, then <cite>filter</cite> will run your function in parallel, with up to one thousand simultaneous calls (configurable).
It is recommended to use a <cite>asyncio.Semaphore</cite> in your function if you want to set a maximum number of operations that can run at the same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<cite>Callable</cite>) â€“ <p>Callable with one of the following signatures:</p>
<ul>
<li><p><cite>function(example: Dict[str, Any]) -&gt; bool</cite> if <cite>batched=False</cite> and <cite>with_indices=False</cite> and <cite>with_rank=False</cite></p></li>
<li><p><cite>function(example: Dict[str, Any], *extra_args) -&gt; bool</cite> if <cite>batched=False</cite> and <cite>with_indices=True</cite> and/or <cite>with_rank=True</cite> (one extra arg for each)</p></li>
<li><p><cite>function(batch: Dict[str, List]) -&gt; List[bool]</cite> if <cite>batched=True</cite> and <cite>with_indices=False</cite> and <cite>with_rank=False</cite></p></li>
<li><p><cite>function(batch: Dict[str, List], *extra_args) -&gt; List[bool]</cite> if <cite>batched=True</cite> and <cite>with_indices=True</cite> and/or <cite>with_rank=True</cite> (one extra arg for each)</p></li>
</ul>
<p>If the function is asynchronous, then <cite>filter</cite> will run your function in parallel.
If no function is provided, defaults to an always <cite>True</cite> function: <cite>lambda x: True</cite>.</p>
</p></li>
<li><p><strong>with_indices</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide example indices to <cite>function</cite>. Note that in this case the
signature of <cite>function</cite> should be <cite>def function(example, idx[, rank]): â€¦</cite>.</p></li>
<li><p><strong>with_rank</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide process rank to <cite>function</cite>. Note that in this case the
signature of <cite>function</cite> should be <cite>def function(example[, idx], rank): â€¦</cite>.</p></li>
<li><p><strong>input_columns</strong> (<cite>str</cite> or <cite>List[str]</cite>, <em>optional</em>) â€“ The columns to be passed into <cite>function</cite> as
positional arguments. If <cite>None</cite>, a <cite>dict</cite> mapping to all formatted columns is passed as one argument.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide batch of examples to <cite>function</cite>.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>1000</cite>) â€“ Number of examples per batch provided to <cite>function</cite> if
<cite>batched = True</cite>. If <cite>batched = False</cite>, one example per batch is passed to <cite>function</cite>.
If <cite>batch_size &lt;= 0</cite> or <cite>batch_size == None</cite>, provide the full dataset as a single batch to <cite>function</cite>.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep the dataset in memory instead of writing it to a cache file.</p></li>
<li><p><strong>load_from_cache_file</strong> (<cite>Optional[bool]</cite>, defaults to <cite>True</cite> if caching is enabled) â€“ If a cache file storing the current computation from <cite>function</cite>
can be identified, use it instead of recomputing.</p></li>
<li><p><strong>cache_file_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ Provide the name of a path for the cache file. It is used to store the
results of the computation instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running <cite>map</cite>.</p></li>
<li><p><strong>fn_kwargs</strong> (<cite>dict</cite>, <em>optional</em>) â€“ Keyword arguments to be passed to <cite>function</cite>.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <p>The number of processes to use for multiprocessing.
- If <cite>None</cite> or <cite>0</cite>, no multiprocessing is used and the operation runs in the main process.
- If greater than <cite>1</cite>, one or multiple worker processes are used to process data in parallel.</p>
<blockquote>
<div><p>Note: The function passed to <cite>map()</cite> must be picklable for multiprocessing to work correctly
(i.e., prefer functions defined at the top level of a module, not inside another function or class).</p>
</div></blockquote>
</p></li>
<li><p><strong>suffix_template</strong> (<cite>str</cite>) â€“ If <cite>cache_file_name</cite> is specified, then this suffix will be added at the end of the base name of each.
For example, if <cite>cache_file_name</cite> is <cite>â€œprocessed.arrowâ€</cite>, then for <cite>rank = 1</cite> and <cite>num_proc = 4</cite>,
the resulting file would be <cite>â€œprocessed_00001_of_00004.arrowâ€</cite> for the default suffix (default
<cite>_{rank:05d}_of_{num_proc:05d}</cite>).</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
<li><p><strong>desc</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Meaningful description to be displayed alongside with the progress bar while filtering examples.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">    num_rows: 533</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.flatten_indices">
<span class="sig-name descname"><span class="pre">flatten_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_nullable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.flatten_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.flatten_indices" title="Link to this definition">#</a></dt>
<dd><p>Create and cache a new Dataset by flattening the indices mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep the dataset in memory instead of writing it to a cache file.</p></li>
<li><p><strong>cache_file_name</strong> (<cite>str</cite>, <em>optional</em>, default <cite>None</cite>) â€“ Provide the name of a path for the cache file. It is used to store the
results of the computation instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running <cite>map</cite>.</p></li>
<li><p><strong>features</strong> (<cite>Optional[datasets.Features]</cite>, defaults to <cite>None</cite>) â€“ Use a specific [<cite>Features</cite>] to store the cache file
instead of the automatically generated one.</p></li>
<li><p><strong>disable_nullable</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Allow null values in the table.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, optional, default <cite>None</cite>) â€“ Max number of processes when generating cache. Already cached shards are loaded sequentially</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.14)"><span class="pre">Iterable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.select" title="Link to this definition">#</a></dt>
<dd><p>Create a new dataset with rows selected following the list/array of indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<cite>range</cite>, <cite>list</cite>, <cite>iterable</cite>, <cite>ndarray</cite> or <cite>Series</cite>) â€“ Range, list or 1D-array of integer indices for indexing.
If the indices correspond to a contiguous range, the Arrow table is simply sliced.
However passing a list of indices that are not contiguous creates indices mapping, which is much less efficient,
but still faster than recreating an Arrow table made of the requested rows.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep the indices mapping in memory instead of writing it to a cache file.</p></li>
<li><p><strong>indices_cache_file_name</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Provide the name of a path for the cache file. It is used to store the
indices mapping instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running <cite>map</cite>.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">    num_rows: 4</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.skip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.skip" title="Link to this definition">#</a></dt>
<dd><p>Create a new [<cite>Dataset</cite>] that skips the first <cite>n</cite> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<cite>int</cite>) â€“ Number of elements to skip.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;if you sometimes like to go to the movies to have fun , wasabi is a good place to start .&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.repeat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.repeat" title="Link to this definition">#</a></dt>
<dd><p>Create a new [<cite>Dataset</cite>] that repeats the underlying dataset <cite>num_times</cite> times.</p>
<p>Like itertools.repeat, repeating once just returns the full dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_times</strong> (<cite>int</cite>) â€“ Number of times to repeat the dataset.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.take" title="Link to this definition">#</a></dt>
<dd><p>Create a new [<cite>Dataset</cite>] with only the first <cite>n</cite> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<cite>int</cite>) â€“ Number of elements to take.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">small_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">small_ds</span><span class="p">)</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.sort">
<span class="sig-name descname"><span class="pre">sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.14)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.14)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">null_placement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'at_end'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_cache_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.sort" title="Link to this definition">#</a></dt>
<dd><p>Create a new dataset sorted according to a single or multiple columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<cite>Union[str, Sequence[str]]</cite>) â€“ Column name(s) to sort by.</p></li>
<li><p><strong>reverse</strong> (<cite>Union[bool, Sequence[bool]]</cite>, defaults to <cite>False</cite>) â€“ If <cite>True</cite>, sort by descending order rather than ascending. If a single bool is provided,
the value is applied to the sorting of all column names. Otherwise a list of bools with the
same length and order as column_names must be provided.</p></li>
<li><p><strong>null_placement</strong> (<cite>str</cite>, defaults to <cite>at_end</cite>) â€“ <p>Put <cite>None</cite> values at the beginning if <cite>at_start</cite> or <cite>first</cite> or at the end if <cite>at_end</cite> or <cite>last</cite></p>
<p>&lt;Added version=â€1.14.2â€/&gt;</p>
</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep the sorted indices in memory instead of writing it to a cache file.</p></li>
<li><p><strong>load_from_cache_file</strong> (<cite>Optional[bool]</cite>, defaults to <cite>True</cite> if caching is enabled) â€“ If a cache file storing the sorted indices
can be identified, use it instead of recomputing.</p></li>
<li><p><strong>indices_cache_file_name</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Provide the name of a path for the cache file. It is used to store the
sorted indices instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
Higher value gives smaller cache files, lower value consume less temporary memory.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;cornell-movie-review-data/rotten_tomatoes&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;validation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_ds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">another_sorted_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">another_sorted_ds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/random/generator.html#numpy.random.Generator" title="(in NumPy v2.3)"><span class="pre">Generator</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_cache_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.shuffle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.shuffle" title="Link to this definition">#</a></dt>
<dd><p>Create a new Dataset where the rows are shuffled.</p>
<p>Currently shuffling uses numpy random generators.
You can either supply a NumPy BitGenerator to use, or a seed to initiate NumPyâ€™s default random generator (PCG64).</p>
<p>Shuffling takes the list of indices <cite>[0:len(my_dataset)]</cite> and shuffles it to create an indices mapping.
However as soon as your [<cite>Dataset</cite>] has an indices mapping, the speed can become 10x slower.
This is because there is an extra step to get the row index to read using the indices mapping, and most importantly, you arenâ€™t reading contiguous chunks of data anymore.
To restore the speed, youâ€™d need to rewrite the entire dataset on your disk again using [<cite>Dataset.flatten_indices</cite>], which removes the indices mapping.
This may take a lot of time depending of the size of your dataset though:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_dataset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># fast</span>
<span class="n">my_dataset</span> <span class="o">=</span> <span class="n">my_dataset</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">my_dataset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># up to 10x slower</span>
<span class="n">my_dataset</span> <span class="o">=</span> <span class="n">my_dataset</span><span class="o">.</span><span class="n">flatten_indices</span><span class="p">()</span>  <span class="c1"># rewrite the shuffled dataset on disk as contiguous chunks of data</span>
<span class="n">my_dataset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># fast again</span>
</pre></div>
</div>
<p>In this case, we recommend switching to an [<cite>IterableDataset</cite>] and leveraging its fast approximate shuffling method [<cite>IterableDataset.shuffle</cite>].
It only shuffles the shards order and adds a shuffle buffer to your dataset, which keeps the speed of your dataset optimal:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_iterable_dataset</span> <span class="o">=</span> <span class="n">my_dataset</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>
<span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">my_iterable_dataset</span><span class="p">):</span>  <span class="c1"># fast</span>
    <span class="k">pass</span>

<span class="n">shuffled_iterable_dataset</span> <span class="o">=</span> <span class="n">my_iterable_dataset</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">buffer_size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">shuffled_iterable_dataset</span><span class="p">):</span>  <span class="c1"># as fast as before</span>
    <span class="k">pass</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> (<cite>int</cite>, <em>optional</em>) â€“ A seed to initialize the default BitGenerator if <cite>generator=None</cite>.
If <cite>None</cite>, then fresh, unpredictable entropy will be pulled from the OS.
If an <cite>int</cite> or <cite>array_like[ints]</cite> is passed, then it will be passed to SeedSequence to derive the initial BitGenerator state.</p></li>
<li><p><strong>generator</strong> (<cite>numpy.random.Generator</cite>, <em>optional</em>) â€“ Numpy random Generator to use to compute the permutation of the dataset rows.
If <cite>generator=None</cite> (default), uses <cite>np.random.default_rng</cite> (the default BitGenerator (PCG64) of NumPy).</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, default <cite>False</cite>) â€“ Keep the shuffled indices in memory instead of writing it to a cache file.</p></li>
<li><p><strong>load_from_cache_file</strong> (<cite>Optional[bool]</cite>, defaults to <cite>True</cite> if caching is enabled) â€“ If a cache file storing the shuffled indices
can be identified, use it instead of recomputing.</p></li>
<li><p><strong>indices_cache_file_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ Provide the name of a path for the cache file. It is used to store the
shuffled indices instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running <cite>map</cite>.</p></li>
<li><p><strong>new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the dataset after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</span>

<span class="go"># set a seed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_ds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 0, 1, 1, 0, 0, 0, 0, 0, 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.train_test_split">
<span class="sig-name descname"><span class="pre">train_test_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stratify_by_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/random/generator.html#numpy.random.Generator" title="(in NumPy v2.3)"><span class="pre">Generator</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_cache_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_indices_cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_indices_cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="datasets.DatasetDict.html#datasets.DatasetDict" title="datasets.DatasetDict"><span class="pre">DatasetDict</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.train_test_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.train_test_split" title="Link to this definition">#</a></dt>
<dd><p>Return a dictionary ([<cite>datasets.DatasetDict</cite>]) with two random train and test subsets (<cite>train</cite> and <cite>test</cite> <cite>Dataset</cite> splits).
Splits are created from the dataset according to <cite>test_size</cite>, <cite>train_size</cite> and <cite>shuffle</cite>.</p>
<p>This method is similar to scikit-learn <cite>train_test_split</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_size</strong> (<cite>Union[float, int, None]</cite>, <em>optional</em>) â€“ Size of the test split
If <cite>float</cite>, should be between <cite>0.0</cite> and <cite>1.0</cite> and represent the proportion of the dataset to include in the test split.
If <cite>int</cite>, represents the absolute number of test samples.
If <cite>None</cite>, the value is set to the complement of the train size.
If <cite>train_size</cite> is also <cite>None</cite>, it will be set to <cite>0.25</cite>.</p></li>
<li><p><strong>train_size</strong> (<cite>Union[float, int, None]</cite>, <em>optional</em>) â€“ Size of the train split
If <cite>float</cite>, should be between <cite>0.0</cite> and <cite>1.0</cite> and represent the proportion of the dataset to include in the train split.
If <cite>int</cite>, represents the absolute number of train samples.
If <cite>None</cite>, the value is automatically set to the complement of the test size.</p></li>
<li><p><strong>shuffle</strong> (<cite>bool</cite>, <em>optional</em>, defaults to <cite>True</cite>) â€“ Whether or not to shuffle the data before splitting.</p></li>
<li><p><strong>stratify_by_column</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The column name of labels to be used to perform stratified split of data.</p></li>
<li><p><strong>seed</strong> (<cite>int</cite>, <em>optional</em>) â€“ A seed to initialize the default BitGenerator if <cite>generator=None</cite>.
If <cite>None</cite>, then fresh, unpredictable entropy will be pulled from the OS.
If an <cite>int</cite> or <cite>array_like[ints]</cite> is passed, then it will be passed to SeedSequence to derive the initial BitGenerator state.</p></li>
<li><p><strong>generator</strong> (<cite>numpy.random.Generator</cite>, <em>optional</em>) â€“ Numpy random Generator to use to compute the permutation of the dataset rows.
If <cite>generator=None</cite> (default), uses <cite>np.random.default_rng</cite> (the default BitGenerator (PCG64) of NumPy).</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep the splits indices in memory instead of writing it to a cache file.</p></li>
<li><p><strong>load_from_cache_file</strong> (<cite>Optional[bool]</cite>, defaults to <cite>True</cite> if caching is enabled) â€“ If a cache file storing the splits indices
can be identified, use it instead of recomputing.</p></li>
<li><p><strong>train_cache_file_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ Provide the name of a path for the cache file. It is used to store the
train split indices instead of the automatically generated cache file name.</p></li>
<li><p><strong>test_cache_file_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ Provide the name of a path for the cache file. It is used to store the
test split indices instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Number of rows per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running <cite>map</cite>.</p></li>
<li><p><strong>train_new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the train set after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments</p></li>
<li><p><strong>test_new_fingerprint</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ The new fingerprint of the test set after transform.
If <cite>None</cite>, the new fingerprint is computed using a hash of the previous fingerprint, and the transform arguments</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train_test_split</span><span class="p">(</span><span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">DatasetDict({</span>
<span class="go">    train: Dataset({</span>
<span class="go">        features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">        num_rows: 852</span>
<span class="go">    })</span>
<span class="go">    test: Dataset({</span>
<span class="go">        features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">        num_rows: 214</span>
<span class="go">    })</span>
<span class="go">})</span>

<span class="go"># set a seed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train_test_split</span><span class="p">(</span><span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="go"># stratified split</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;stanfordnlp/imdb&quot;</span><span class="p">,</span><span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">    num_rows: 25000</span>
<span class="go">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train_test_split</span><span class="p">(</span><span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">stratify_by_column</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">)</span>
<span class="go">DatasetDict({</span>
<span class="go">    train: Dataset({</span>
<span class="go">        features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">        num_rows: 20000</span>
<span class="go">    })</span>
<span class="go">    test: Dataset({</span>
<span class="go">        features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">        num_rows: 5000</span>
<span class="go">    })</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.shard">
<span class="sig-name descname"><span class="pre">shard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">contiguous</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_cache_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.shard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.shard" title="Link to this definition">#</a></dt>
<dd><p>Return the <cite>index</cite>-nth shard from dataset split into <cite>num_shards</cite> pieces.</p>
<p>This shards deterministically. <cite>dataset.shard(n, i)</cite> splits the dataset into contiguous chunks,
so it can be easily concatenated back together after processing. If <cite>len(dataset) % n == l</cite>, then the
first <cite>l</cite> dataset each have length <cite>(len(dataset) // n) + 1</cite>, and the remaining dataset have length <cite>(len(dataset) // n)</cite>.
<cite>datasets.concatenate_datasets([dset.shard(n, i) for i in range(n)])</cite> returns a dataset with the same order as the original.</p>
<p>Note: n should be less or equal to the number of elements in the dataset <cite>len(dataset)</cite>.</p>
<p>On the other hand, <cite>dataset.shard(n, i, contiguous=False)</cite> contains all elements of the dataset whose index mod <cite>n = i</cite>.</p>
<p>Be sure to shard before using any randomizing operator (such as <cite>shuffle</cite>).
It is best if the shard operator is used early in the dataset pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_shards</strong> (<cite>int</cite>) â€“ How many shards to split the dataset into.</p></li>
<li><p><strong>index</strong> (<cite>int</cite>) â€“ Which shard to select and return.</p></li>
<li><p><strong>contiguous</strong> â€“ (<cite>bool</cite>, defaults to <cite>True</cite>):
Whether to select contiguous blocks of indices for shards.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Keep the dataset in memory instead of writing it to a cache file.</p></li>
<li><p><strong>indices_cache_file_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ Provide the name of a path for the cache file. It is used to store the
indices of each shard instead of the automatically generated cache file name.</p></li>
<li><p><strong>writer_batch_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ This only concerns the indices mapping.
Number of indices per write operation for the cache file writer.
This value is a good trade-off between memory usage during the processing, and processing speed.
Higher value makes the processing do fewer lookups, lower value consume less temporary memory while running <cite>map</cite>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">    num_rows: 1066</span>
<span class="go">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">shard</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;, &#39;label&#39;],</span>
<span class="go">    num_rows: 533</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_buf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.14)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">to_csv_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_csv" title="Link to this definition">#</a></dt>
<dd><p>Exports the dataset to csv</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_buf</strong> (<cite>PathLike</cite> or <cite>FileOrBuffer</cite>) â€“ Either a path to a file (e.g. <cite>file.csv</cite>), a remote URI (e.g. <cite>hf://datasets/username/my_dataset_name/data.csv</cite>),
or a BinaryIO, where the dataset will be saved to in the specified format.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>) â€“ Number of processes for multiprocessing. By default it doesnâ€™t
use multiprocessing. <cite>batch_size</cite> in this case defaults to
<cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite> but feel free to make it 5x or 10x of the default
value if you have sufficient compute power.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.19.0â€/&gt;</p>
</p></li>
<li><p><strong>**to_csv_kwargs</strong> (<em>additional keyword arguments</em>) â€“ <p>Parameters to pass to pandasâ€™s [<cite>pandas.DataFrame.to_csv</cite>](<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html</a>).</p>
<p>&lt;Changed version=â€2.10.0â€&gt;</p>
<p>Now, <cite>index</cite> defaults to <cite>False</cite> if not specified.</p>
<p>If you would like to write the index, pass <cite>index=True</cite> and also set a name for the index column by
passing <cite>index_label</cite>.</p>
<p>&lt;/Changed&gt;</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of characters or bytes written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.14)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_dict" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a Python dict. Can also return a generator for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ The size (number of rows) of the batches if <cite>batched</cite> is <cite>True</cite>.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>) â€“ Set to <cite>True</cite> to return a generator that yields the dataset as batches
of <cite>batch_size</cite> rows. Defaults to <cite>False</cite> (returns the whole datasets once).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>dict</cite> or <cite>Iterator[dict]</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_list">
<span class="sig-name descname"><span class="pre">to_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_list" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a Python list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>list</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_buf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.14)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">to_json_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_json" title="Link to this definition">#</a></dt>
<dd><p>Export the dataset to JSON Lines or JSON.</p>
<p>The default output format is [JSON Lines](<a class="reference external" href="https://jsonlines.org/">https://jsonlines.org/</a>).
To export to [JSON](<a class="reference external" href="https://www.json.org">https://www.json.org</a>), pass <cite>lines=False</cite> argument and the desired <cite>orient</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_buf</strong> (<cite>PathLike</cite> or <cite>FileOrBuffer</cite>) â€“ Either a path to a file (e.g. <cite>file.json</cite>), a remote URI (e.g. <cite>hf://datasets/username/my_dataset_name/data.json</cite>),
or a BinaryIO, where the dataset will be saved to in the specified format.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>) â€“ Number of processes for multiprocessing. By default, it doesnâ€™t
use multiprocessing. <cite>batch_size</cite> in this case defaults to
<cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite> but feel free to make it 5x or 10x of the default
value if you have sufficient compute power.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.19.0â€/&gt;</p>
</p></li>
<li><p><strong>**to_json_kwargs</strong> (<em>additional keyword arguments</em>) â€“ <p>Parameters to pass to pandasâ€™s [<cite>pandas.DataFrame.to_json</cite>](<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_json.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_json.html</a>).
Default arguments are <cite>lines=True</cite> and <a href="#id1"><span class="problematic" id="id2">`</span></a>orient=â€recordsâ€.</p>
<p>&lt;Changed version=â€2.11.0â€&gt;</p>
<p>The parameter <cite>index</cite> defaults to <cite>False</cite> if <cite>orient</cite> is <cite>â€œsplitâ€</cite> or <cite>â€œtableâ€</cite>.</p>
<p>If you would like to write the index, pass <cite>index=True</cite>.</p>
<p>&lt;/Changed&gt;</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of characters or bytes written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory/filename.jsonl&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_pandas">
<span class="sig-name descname"><span class="pre">to_pandas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><span class="pre">DataFrame</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.14)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_pandas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_pandas" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a <cite>pandas.DataFrame</cite>. Can also return a generator for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ The size (number of rows) of the batches if <cite>batched</cite> is <cite>True</cite>.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>) â€“ Set to <cite>True</cite> to return a generator that yields the dataset as batches
of <cite>batch_size</cite> rows. Defaults to <cite>False</cite> (returns the whole datasets once).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> or <cite>Iterator[pandas.DataFrame]</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_polars">
<span class="sig-name descname"><span class="pre">to_polars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_overrides</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rechunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pl.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.14)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><span class="pre">pl.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_polars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_polars" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a <cite>polars.DataFrame</cite>. Can also return a generator for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ The size (number of rows) of the batches if <cite>batched</cite> is <cite>True</cite>.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>) â€“ Set to <cite>True</cite> to return a generator that yields the dataset as batches
of <cite>batch_size</cite> rows. Defaults to <cite>False</cite> (returns the whole datasets once).</p></li>
<li><p><strong>schema_overrides</strong> (<cite>dict</cite>, <em>optional</em>) â€“ Support type specification or override of one or more columns; note that
any dtypes inferred from the schema param will be overridden.</p></li>
<li><p><strong>rechunk</strong> (<cite>bool</cite>) â€“ Make sure that all data is in contiguous memory. Defaults to <cite>True</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>polars.DataFrame</cite> or <cite>Iterator[polars.DataFrame]</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_polars</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_parquet">
<span class="sig-name descname"><span class="pre">to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_buf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.14)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">parquet_writer_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_parquet" title="Link to this definition">#</a></dt>
<dd><p>Exports the dataset to parquet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_buf</strong> (<cite>PathLike</cite> or <cite>FileOrBuffer</cite>) â€“ Either a path to a file (e.g. <cite>file.parquet</cite>), a remote URI (e.g. <cite>hf://datasets/username/my_dataset_name/data.parquet</cite>),
or a BinaryIO, where the dataset will be saved to in the specified format.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
By default it aims for row groups with maximum uncompressed byte size of â€œ100MBâ€,
defined by <cite>datasets.config.MAX_ROW_GROUP_SIZE</cite>.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.19.0â€/&gt;</p>
</p></li>
<li><p><strong>**parquet_writer_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Parameters to pass to PyArrowâ€™s <cite>pyarrow.parquet.ParquetWriter</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of characters or bytes written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_parquet</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_sql">
<span class="sig-name descname"><span class="pre">to_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">con</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">sqlalchemy.engine.Connection</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">sqlalchemy.engine.Engine</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.14)"><span class="pre">sqlite3.Connection</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">sql_writer_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_sql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_sql" title="Link to this definition">#</a></dt>
<dd><p>Exports the dataset to a SQL database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<cite>str</cite>) â€“ Name of SQL table.</p></li>
<li><p><strong>con</strong> (<cite>str</cite> or <cite>sqlite3.Connection</cite> or <cite>sqlalchemy.engine.Connection</cite> or <cite>sqlalchemy.engine.Connection</cite>) â€“ A [URI string](<a class="reference external" href="https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls">https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls</a>) or a SQLite3/SQLAlchemy connection object used to write to a database.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>**sql_writer_kwargs</strong> (<em>additional keyword arguments</em>) â€“ <p>Parameters to pass to pandasâ€™s [<cite>pandas.DataFrame.to_sql</cite>](<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_sql.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_sql.html</a>).</p>
<p>&lt;Changed version=â€2.11.0â€&gt;</p>
<p>Now, <cite>index</cite> defaults to <cite>False</cite> if not specified.</p>
<p>If you would like to write the index, pass <cite>index=True</cite> and also set a name for the index column by
passing <cite>index_label</cite>.</p>
<p>&lt;/Changed&gt;</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of records written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># con provided as a connection URI string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;sqlite:///my_own_db.sql&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># con provided as a sqlite3 connection object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;my_own_db.sql&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">con</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ds</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">con</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_iterable_dataset">
<span class="sig-name descname"><span class="pre">to_iterable_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="datasets.IterableDataset.html#datasets.IterableDataset" title="datasets.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.to_iterable_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.to_iterable_dataset" title="Link to this definition">#</a></dt>
<dd><p>Get an [<cite>datasets.IterableDataset</cite>] from a map-style [<cite>datasets.Dataset</cite>].
This is equivalent to loading a dataset in streaming mode with [<cite>datasets.load_dataset</cite>], but much faster since the data is streamed from local files.</p>
<p>Contrary to map-style datasets, iterable datasets are lazy and can only be iterated over (e.g. using a for loop).
Since they are read sequentially in training loops, iterable datasets are much faster than map-style datasets.
All the transformations applied to iterable datasets like filtering or processing are done on-the-fly when you start iterating over the dataset.</p>
<p>Still, it is possible to shuffle an iterable dataset using [<cite>datasets.IterableDataset.shuffle</cite>].
This is a fast approximate shuffling that works best if you have multiple shards and if you specify a buffer size that is big enough.</p>
<p>To get the best speed performance, make sure your dataset doesnâ€™t have an indices mapping.
If this is the case, the data are not read contiguously, which can be slow sometimes.
You can use <cite>ds = ds.flatten_indices()</cite> to write your dataset in contiguous chunks of data and have optimal speed before switching to an iterable dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_shards</strong> (<cite>int</cite>, default to <cite>1</cite>) â€“ Number of shards to define when instantiating the iterable dataset. This is especially useful for big datasets to be able to shuffle properly,
and also to enable fast parallel loading using a PyTorch DataLoader or in distributed setups for example.
Shards are defined using [<cite>datasets.Dataset.shard</cite>]: it simply slices the data without writing anything on disk.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>datasets.IterableDataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<p>Basic usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>With lazy filtering and processing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">filter_fn</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">process_fn</span><span class="p">)</span>  <span class="c1"># will filter and process on-the-fly when you start iterating over the iterable dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>With sharding to enable efficient shuffling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>  <span class="c1"># the dataset is split into 64 shards to be iterated over</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">buffer_size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">)</span>  <span class="c1"># will shuffle the shards order and use a shuffle buffer for fast approximate shuffling when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>With a PyTorch DataLoader:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">filter_fn</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">process_fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># will assign 64 / 4 = 16 shards to each worker to load, filter and process when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>With a PyTorch DataLoader and shuffling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">buffer_size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">)</span>  <span class="c1"># will shuffle the shards order and use a shuffle buffer when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># will assign 64 / 4 = 16 shards from the shuffled list of shards to each worker when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>In a distributed setup like PyTorch DDP with a PyTorch DataLoader and shuffling</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets.distributed</span><span class="w"> </span><span class="kn">import</span> <span class="n">split_dataset_by_node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">512</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">buffer_size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># will shuffle the shards order and use a shuffle buffer when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">split_dataset_by_node</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">world_size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># will keep only 512 / 8 = 64 shards from the shuffled lists of shards when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># will assign 64 / 4 = 16 shards from this node&#39;s list of shards to each worker when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>With shuffling and multiple epochs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">buffer_size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># will shuffle the shards order and use a shuffle buffer when you start iterating</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">epoch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_epochs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ids</span><span class="o">.</span><span class="n">set_epoch</span><span class="p">(</span><span class="n">epoch</span><span class="p">)</span>  <span class="c1"># will use effective_seed = seed + epoch to shuffle the shards and for the shuffle buffer when you start iterating</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">pass</span>
</pre></div>
</div>
<p>Feel free to also use [<cite>IterableDataset.set_epoch</cite>] when using a PyTorch DataLoader or in distributed setups.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.push_to_hub">
<span class="sig-name descname"><span class="pre">push_to_hub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_shard_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_external_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">CommitInfo</span></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.push_to_hub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.push_to_hub" title="Link to this definition">#</a></dt>
<dd><p>Pushes the dataset to the hub as a Parquet dataset.
The dataset is pushed using HTTP requests and does not need to have neither git or git-lfs installed.</p>
<p>The resulting Parquet files are self-contained by default. If your dataset contains [<cite>Image</cite>], [<cite>Audio</cite>] or [<cite>Video</cite>]
data, the Parquet files will store the bytes of your images or audio files.
You can disable this by setting <cite>embed_external_files</cite> to <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>repo_id</strong> (<cite>str</cite>) â€“ The ID of the repository to push to in the following format: <cite>&lt;user&gt;/&lt;dataset_name&gt;</cite> or
<cite>&lt;org&gt;/&lt;dataset_name&gt;</cite>. Also accepts <cite>&lt;dataset_name&gt;</cite>, which will default to the namespace
of the logged-in user.</p></li>
<li><p><strong>config_name</strong> (<cite>str</cite>, defaults to â€œdefaultâ€) â€“ The configuration name (or subset) of a dataset. Defaults to â€œdefaultâ€.</p></li>
<li><p><strong>set_default</strong> (<cite>bool</cite>, <em>optional</em>) â€“ Whether to set this configuration as the default one. Otherwise, the default configuration is the one
named â€œdefaultâ€.</p></li>
<li><p><strong>split</strong> (<cite>str</cite>, <em>optional</em>) â€“ The name of the split that will be given to that dataset. Defaults to <cite>self.split</cite>.</p></li>
<li><p><strong>data_dir</strong> (<cite>str</cite>, <em>optional</em>) â€“ <p>Directory name that will contain the uploaded data files. Defaults to the <cite>config_name</cite> if different
from â€œdefaultâ€, else â€œdataâ€.</p>
<p>&lt;Added version=â€2.17.0â€/&gt;</p>
</p></li>
<li><p><strong>commit_message</strong> (<cite>str</cite>, <em>optional</em>) â€“ Message to commit while pushing. Will default to <cite>â€œUpload datasetâ€</cite>.</p></li>
<li><p><strong>commit_description</strong> (<cite>str</cite>, <em>optional</em>) â€“ <p>Description of the commit that will be created.
Additionally, description of the PR if a PR is created (<cite>create_pr</cite> is True).</p>
<p>&lt;Added version=â€2.16.0â€/&gt;</p>
</p></li>
<li><p><strong>private</strong> (<cite>bool</cite>, <em>optional</em>) â€“ Whether to make the repo private. If <cite>None</cite> (default), the repo will be public unless the
organizationâ€™s default is private. This value is ignored if the repo already exists.</p></li>
<li><p><strong>token</strong> (<cite>str</cite>, <em>optional</em>) â€“ An optional authentication token for the Hugging Face Hub. If no token is passed, will default
to the token saved locally when logging in with <cite>huggingface-cli login</cite>. Will raise an error
if no token is passed and the user is not logged-in.</p></li>
<li><p><strong>revision</strong> (<cite>str</cite>, <em>optional</em>) â€“ <p>Branch to push the uploaded files to. Defaults to the <cite>â€œmainâ€</cite> branch.</p>
<p>&lt;Added version=â€2.15.0â€/&gt;</p>
</p></li>
<li><p><strong>create_pr</strong> (<cite>bool</cite>, <em>optional</em>, defaults to <cite>False</cite>) â€“ <p>Whether to create a PR with the uploaded files or directly commit.</p>
<p>&lt;Added version=â€2.15.0â€/&gt;</p>
</p></li>
<li><p><strong>max_shard_size</strong> (<cite>int</cite> or <cite>str</cite>, <em>optional</em>, defaults to <cite>â€œ500MBâ€</cite>) â€“ The maximum size of the dataset shards to be uploaded to the hub. If expressed as a string, needs to be digits followed by
a unit (like <cite>â€œ5MBâ€</cite>).</p></li>
<li><p><strong>num_shards</strong> (<cite>int</cite>, <em>optional</em>) â€“ <p>Number of shards to write. By default, the number of shards depends on <cite>max_shard_size</cite>.</p>
<p>&lt;Added version=â€2.8.0â€/&gt;</p>
</p></li>
<li><p><strong>embed_external_files</strong> (<cite>bool</cite>, defaults to <cite>True</cite>) â€“ <p>Whether to embed file bytes in the shards.
In particular, this will do the following before the push for the fields of type:</p>
<ul>
<li><p>[<cite>Audio</cite>] and [<cite>Image</cite>]: remove local path information and embed file content in the Parquet files.</p></li>
</ul>
</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <p>Number of processes when preparing and uploading the dataset.
This is helpful if the dataset is made of many samples or media files to embed.
Multiprocessing is disabled by default.</p>
<p>&lt;Added version=â€4.0.0â€/&gt;</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>huggingface_hub.CommitInfo</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dict</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">private</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">max_shard_size</span><span class="o">=</span><span class="s2">&quot;1GB&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">num_shards</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
</pre></div>
</div>
<p>If your dataset has multiple splits (e.g. train/validation/test):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">train_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want to add a new configuration (or subset) to a dataset (e.g. if the dataset has multiple tasks/versions/languages):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">english_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">french_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;fr&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">english_dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">french_dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;fr&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.add_column">
<span class="sig-name descname"><span class="pre">add_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Value.html#datasets.Value" title="datasets.features.features.Value"><span class="pre">Value</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.ClassLabel.html#datasets.ClassLabel" title="datasets.features.features.ClassLabel"><span class="pre">ClassLabel</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Translation.html#datasets.Translation" title="datasets.features.translation.Translation"><span class="pre">Translation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.TranslationVariableLanguages.html#datasets.TranslationVariableLanguages" title="datasets.features.translation.TranslationVariableLanguages"><span class="pre">TranslationVariableLanguages</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">LargeList</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array2D.html#datasets.Array2D" title="datasets.features.features.Array2D"><span class="pre">Array2D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array3D.html#datasets.Array3D" title="datasets.features.features.Array3D"><span class="pre">Array3D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array4D.html#datasets.Array4D" title="datasets.features.features.Array4D"><span class="pre">Array4D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array5D.html#datasets.Array5D" title="datasets.features.features.Array5D"><span class="pre">Array5D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Audio.html#datasets.Audio" title="datasets.features.audio.Audio"><span class="pre">Audio</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Image.html#datasets.Image" title="datasets.features.image.Image"><span class="pre">Image</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Video</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Pdf</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Nifti</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.add_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.add_column" title="Link to this definition">#</a></dt>
<dd><p>Add column to Dataset.</p>
<p>&lt;Added version=â€1.7â€/&gt;</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<cite>str</cite>) â€“ Column name.</p></li>
<li><p><strong>column</strong> (<cite>list</cite> or <cite>np.array</cite>) â€“ Column data to be added.</p></li>
<li><p><strong>feature</strong> (<cite>FeatureType</cite> or <cite>None</cite>, defaults to <cite>None</cite>) â€“ Column datatype.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">more_text</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;text_2&quot;</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">more_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;text&#39;, &#39;label&#39;, &#39;text_2&#39;],</span>
<span class="go">    num_rows: 1066</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.add_faiss_index">
<span class="sig-name descname"><span class="pre">add_faiss_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string_factory:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_type:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_index:</span> <span class="pre">faiss.Index</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_size:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faiss_verbose:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.add_faiss_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.add_faiss_index" title="Link to this definition">#</a></dt>
<dd><p>Add a dense index using Faiss for fast retrieval.
By default the index is done over the vectors of the specified column.
You can specify <cite>device</cite> if you want to run it on GPU (<cite>device</cite> must be the GPU index).
You can find more information about Faiss here:</p>
<ul class="simple">
<li><p>For [string factory](<a class="github reference external" href="https://github.com/facebookresearch/faiss/wiki/The-index-factory">facebookresearch/faiss</a>)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<cite>str</cite>) â€“ The column of the vectors to add to the index.</p></li>
<li><p><strong>index_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ The <cite>index_name</cite>/identifier of the index.
This is the <cite>index_name</cite> that is used to call [<cite>~datasets.Dataset.get_nearest_examples</cite>] or [<cite>~datasets.Dataset.search</cite>].
By default it corresponds to <cite>column</cite>.</p></li>
<li><p><strong>device</strong> (<cite>Union[int, List[int]]</cite>, <em>optional</em>) â€“ If positive integer, this is the index of the GPU to use. If negative integer, use all GPUs.
If a list of positive integers is passed in, run only on those GPUs. By default it uses the CPU.</p></li>
<li><p><strong>string_factory</strong> (<cite>str</cite>, <em>optional</em>) â€“ This is passed to the index factory of Faiss to create the index.
Default index class is <cite>IndexFlat</cite>.</p></li>
<li><p><strong>metric_type</strong> (<cite>int</cite>, <em>optional</em>) â€“ Type of metric. Ex: <cite>faiss.METRIC_INNER_PRODUCT</cite> or <cite>faiss.METRIC_L2</cite>.</p></li>
<li><p><strong>custom_index</strong> (<cite>faiss.Index</cite>, <em>optional</em>) â€“ Custom Faiss index that you already have instantiated and configured for your needs.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>) â€“ Size of the batch to use while adding vectors to the <cite>FaissIndex</cite>. Default value is <cite>1000</cite>.
&lt;Added version=â€2.4.0â€/&gt;</p></li>
<li><p><strong>train_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ If the index needs a training step, specifies how many vectors will be used to train the index.</p></li>
<li><p><strong>faiss_verbose</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Enable the verbosity of the Faiss index.</p></li>
<li><p><strong>dtype</strong> (<cite>data-type</cite>) â€“ The dtype of the numpy arrays that are indexed.
Default is <cite>np.float32</cite>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;community-datasets/crime_and_punish&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_with_embeddings</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">example</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;embeddings&#39;</span><span class="p">:</span> <span class="n">embed</span><span class="p">(</span><span class="n">example</span><span class="p">[</span><span class="s1">&#39;line&#39;</span><span class="p">]}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_with_embeddings</span><span class="o">.</span><span class="n">add_faiss_index</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;embeddings&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># query</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span><span class="p">,</span> <span class="n">retrieved_examples</span> <span class="o">=</span> <span class="n">ds_with_embeddings</span><span class="o">.</span><span class="n">get_nearest_examples</span><span class="p">(</span><span class="s1">&#39;embeddings&#39;</span><span class="p">,</span> <span class="n">embed</span><span class="p">(</span><span class="s1">&#39;my new query&#39;</span><span class="p">),</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># save index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_with_embeddings</span><span class="o">.</span><span class="n">save_faiss_index</span><span class="p">(</span><span class="s1">&#39;embeddings&#39;</span><span class="p">,</span> <span class="s1">&#39;my_index.faiss&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;community-datasets/crime_and_punish&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">load_faiss_index</span><span class="p">(</span><span class="s1">&#39;embeddings&#39;</span><span class="p">,</span> <span class="s1">&#39;my_index.faiss&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># query</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span><span class="p">,</span> <span class="n">retrieved_examples</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">get_nearest_examples</span><span class="p">(</span><span class="s1">&#39;embeddings&#39;</span><span class="p">,</span> <span class="n">embed</span><span class="p">(</span><span class="s1">&#39;my new query&#39;</span><span class="p">),</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.add_faiss_index_from_external_arrays">
<span class="sig-name descname"><span class="pre">add_faiss_index_from_external_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">external_arrays:</span> <span class="pre">~numpy.array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string_factory:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_type:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_index:</span> <span class="pre">faiss.Index</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_size:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faiss_verbose:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.add_faiss_index_from_external_arrays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.add_faiss_index_from_external_arrays" title="Link to this definition">#</a></dt>
<dd><p>Add a dense index using Faiss for fast retrieval.
The index is created using the vectors of <cite>external_arrays</cite>.
You can specify <cite>device</cite> if you want to run it on GPU (<cite>device</cite> must be the GPU index).
You can find more information about Faiss here:</p>
<ul class="simple">
<li><p>For [string factory](<a class="github reference external" href="https://github.com/facebookresearch/faiss/wiki/The-index-factory">facebookresearch/faiss</a>)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>external_arrays</strong> (<cite>np.array</cite>) â€“ If you want to use arrays from outside the lib for the index, you can set <cite>external_arrays</cite>.
It will use <cite>external_arrays</cite> to create the Faiss index instead of the arrays in the given <cite>column</cite>.</p></li>
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The <cite>index_name</cite>/identifier of the index.
This is the <cite>index_name</cite> that is used to call [<cite>~datasets.Dataset.get_nearest_examples</cite>] or [<cite>~datasets.Dataset.search</cite>].</p></li>
<li><p><strong>device</strong> (Optional <cite>Union[int, List[int]]</cite>, <em>optional</em>) â€“ If positive integer, this is the index of the GPU to use. If negative integer, use all GPUs.
If a list of positive integers is passed in, run only on those GPUs. By default it uses the CPU.</p></li>
<li><p><strong>string_factory</strong> (<cite>str</cite>, <em>optional</em>) â€“ This is passed to the index factory of Faiss to create the index.
Default index class is <cite>IndexFlat</cite>.</p></li>
<li><p><strong>metric_type</strong> (<cite>int</cite>, <em>optional</em>) â€“ Type of metric. Ex: <cite>faiss.faiss.METRIC_INNER_PRODUCT</cite> or <cite>faiss.METRIC_L2</cite>.</p></li>
<li><p><strong>custom_index</strong> (<cite>faiss.Index</cite>, <em>optional</em>) â€“ Custom Faiss index that you already have instantiated and configured for your needs.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to use while adding vectors to the FaissIndex. Default value is 1000.
&lt;Added version=â€2.4.0â€/&gt;</p></li>
<li><p><strong>train_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ If the index needs a training step, specifies how many vectors will be used to train the index.</p></li>
<li><p><strong>faiss_verbose</strong> (<cite>bool</cite>, defaults to False) â€“ Enable the verbosity of the Faiss index.</p></li>
<li><p><strong>dtype</strong> (<cite>numpy.dtype</cite>) â€“ The dtype of the numpy arrays that are indexed. Default is np.float32.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.add_elasticsearch_index">
<span class="sig-name descname"><span class="pre">add_elasticsearch_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">es_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">elasticsearch.Elasticsearch</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">es_index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">es_index_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.add_elasticsearch_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.add_elasticsearch_index" title="Link to this definition">#</a></dt>
<dd><p>Add a text index using ElasticSearch for fast retrieval. This is done in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<cite>str</cite>) â€“ The column of the documents to add to the index.</p></li>
<li><p><strong>index_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ The <cite>index_name</cite>/identifier of the index.
This is the index name that is used to call [<cite>~Dataset.get_nearest_examples</cite>] or [<cite>~Dataset.search</cite>].
By default it corresponds to <cite>column</cite>.</p></li>
<li><p><strong>host</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>localhost</cite>) â€“ Host of where ElasticSearch is running.</p></li>
<li><p><strong>port</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>9200</cite>) â€“ Port of where ElasticSearch is running.</p></li>
<li><p><strong>es_client</strong> (<cite>elasticsearch.Elasticsearch</cite>, <em>optional</em>) â€“ The elasticsearch client used to create the index if host and port are <cite>None</cite>.</p></li>
<li><p><strong>es_index_name</strong> (<cite>str</cite>, <em>optional</em>) â€“ The elasticsearch index name used to create the index.</p></li>
<li><p><strong>es_index_config</strong> â€“ The configuration of the elasticsearch index.
Default config is:</p></li>
</ul>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;number_of_shards&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;analysis&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;analyzer&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;stop_standard&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="s2">&quot; stopwords&quot;</span><span class="p">:</span> <span class="s2">&quot;_english_&quot;</span><span class="p">}}},</span>
    <span class="p">},</span>
    <span class="s2">&quot;mappings&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
                <span class="s2">&quot;analyzer&quot;</span><span class="p">:</span> <span class="s2">&quot;standard&quot;</span><span class="p">,</span>
                <span class="s2">&quot;similarity&quot;</span><span class="p">:</span> <span class="s2">&quot;BM25&quot;</span>
            <span class="p">},</span>
        <span class="p">}</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">es_client</span> <span class="o">=</span> <span class="n">elasticsearch</span><span class="o">.</span><span class="n">Elasticsearch</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;community-datasets/crime_and_punish&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">add_elasticsearch_index</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">es_client</span><span class="o">=</span><span class="n">es_client</span><span class="p">,</span> <span class="n">es_index_name</span><span class="o">=</span><span class="s2">&quot;my_es_index&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span><span class="p">,</span> <span class="n">retrieved_examples</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">get_nearest_examples</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="s1">&#39;my new query&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.add_item">
<span class="sig-name descname"><span class="pre">add_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_fingerprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.add_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.add_item" title="Link to this definition">#</a></dt>
<dd><p>Add item to Dataset.</p>
<p>&lt;Added version=â€1.7â€/&gt;</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> (<cite>dict</cite>) â€“ Item data to be added.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>Dataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_review</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;this movie is the absolute worst thing I have ever seen&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">new_review</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">{&#39;label&#39;: 0, &#39;text&#39;: &#39;this movie is the absolute worst thing I have ever seen&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.align_labels_with_mapping">
<span class="sig-name descname"><span class="pre">align_labels_with_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label2id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.Dataset" title="datasets.arrow_dataset.Dataset"><span class="pre">Dataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/arrow_dataset.html#Dataset.align_labels_with_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.Dataset.align_labels_with_mapping" title="Link to this definition">#</a></dt>
<dd><p>Align the datasetâ€™s label ID and label name mapping to match an input <cite>label2id</cite> mapping.
This is useful when you want to ensure that a modelâ€™s predicted labels are aligned with the dataset.
The alignment in done using the lowercase label names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label2id</strong> (<cite>dict</cite>) â€“ The label name to ID mapping to align the dataset with.</p></li>
<li><p><strong>label_column</strong> (<cite>str</cite>) â€“ The column name of labels to align on.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># dataset with mapping {&#39;entailment&#39;: 0, &#39;neutral&#39;: 1, &#39;contradiction&#39;: 2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;nyu-mll/glue&quot;</span><span class="p">,</span> <span class="s2">&quot;mnli&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># mapping to align with</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label2id</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CONTRADICTION&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;NEUTRAL&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ENTAILMENT&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_aligned</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">align_labels_with_mapping</span><span class="p">(</span><span class="n">label2id</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.drop_index">
<span class="sig-name descname"><span class="pre">drop_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datasets.Dataset.drop_index" title="Link to this definition">#</a></dt>
<dd><p>Drop the index with the specified column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index_name</strong> (<cite>str</cite>) â€“ The <cite>index_name</cite>/identifier of the index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.get_index">
<span class="sig-name descname"><span class="pre">get_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BaseIndex</span></span></span><a class="headerlink" href="#datasets.Dataset.get_index" title="Link to this definition">#</a></dt>
<dd><p>List the <cite>index_name</cite>/identifiers of all the attached indexes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index_name</strong> (<cite>str</cite>) â€“ Index name.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>BaseIndex</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.get_nearest_examples">
<span class="sig-name descname"><span class="pre">get_nearest_examples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NearestExamplesResults</span></span></span><a class="headerlink" href="#datasets.Dataset.get_nearest_examples" title="Link to this definition">#</a></dt>
<dd><p>Find the nearest examples in the dataset to the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The index_name/identifier of the index.</p></li>
<li><p><strong>query</strong> (<cite>Union[str, np.ndarray]</cite>) â€“ The query as a string if <cite>index_name</cite> is a text index or as a numpy array if <cite>index_name</cite> is a vector index.</p></li>
<li><p><strong>k</strong> (<cite>int</cite>) â€“ The number of examples to retrieve.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of <cite>(scores, examples)</cite> where:
- <strong>scores</strong> (<cite>List[float]</cite>): the retrieval scores from either FAISS (<cite>IndexFlatL2</cite> by default) or ElasticSearch of the retrieved examples
- <strong>examples</strong> (<cite>dict</cite>): the retrieved examples</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>(scores, examples)</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.get_nearest_examples_batch">
<span class="sig-name descname"><span class="pre">get_nearest_examples_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">queries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BatchedNearestExamplesResults</span></span></span><a class="headerlink" href="#datasets.Dataset.get_nearest_examples_batch" title="Link to this definition">#</a></dt>
<dd><p>Find the nearest examples in the dataset to the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The <cite>index_name</cite>/identifier of the index.</p></li>
<li><p><strong>queries</strong> (<cite>Union[List[str], np.ndarray]</cite>) â€“ The queries as a list of strings if <cite>index_name</cite> is a text index or as a numpy array if <cite>index_name</cite> is a vector index.</p></li>
<li><p><strong>k</strong> (<cite>int</cite>) â€“ The number of examples to retrieve per query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of <cite>(total_scores, total_examples)</cite> where:
- <strong>total_scores</strong> (<cite>List[List[float]</cite>): the retrieval scores from either FAISS (<cite>IndexFlatL2</cite> by default) or ElasticSearch of the retrieved examples per query
- <strong>total_examples</strong> (<cite>List[dict]</cite>): the retrieved examples per query</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>(total_scores, total_examples)</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.info">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#datasets.Dataset.info" title="Link to this definition">#</a></dt>
<dd><p>[<cite>~datasets.DatasetInfo</cite>] object containing all the metadata in the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.list_indexes">
<span class="sig-name descname"><span class="pre">list_indexes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datasets.Dataset.list_indexes" title="Link to this definition">#</a></dt>
<dd><p>List the <cite>colindex_nameumns</cite>/identifiers of all the attached indexes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.load_elasticsearch_index">
<span class="sig-name descname"><span class="pre">load_elasticsearch_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">es_index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">es_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Elasticsearch</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">es_index_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datasets.Dataset.load_elasticsearch_index" title="Link to this definition">#</a></dt>
<dd><p>Load an existing text index using ElasticSearch for fast retrieval.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The <cite>index_name</cite>/identifier of the index. This is the index name that is used to call <cite>get_nearest</cite> or <cite>search</cite>.</p></li>
<li><p><strong>es_index_name</strong> (<cite>str</cite>) â€“ The name of elasticsearch index to load.</p></li>
<li><p><strong>host</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>localhost</cite>) â€“ Host of where ElasticSearch is running.</p></li>
<li><p><strong>port</strong> (<cite>str</cite>, <em>optional</em>, defaults to <cite>9200</cite>) â€“ Port of where ElasticSearch is running.</p></li>
<li><p><strong>es_client</strong> (<cite>elasticsearch.Elasticsearch</cite>, <em>optional</em>) â€“ The elasticsearch client used to create the index if host and port are <cite>None</cite>.</p></li>
<li><p><strong>es_index_config</strong> â€“ The configuration of the elasticsearch index.
Default config is:</p></li>
</ul>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;number_of_shards&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;analysis&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;analyzer&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;stop_standard&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="s2">&quot; stopwords&quot;</span><span class="p">:</span> <span class="s2">&quot;_english_&quot;</span><span class="p">}}},</span>
    <span class="p">},</span>
    <span class="s2">&quot;mappings&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
                <span class="s2">&quot;analyzer&quot;</span><span class="p">:</span> <span class="s2">&quot;standard&quot;</span><span class="p">,</span>
                <span class="s2">&quot;similarity&quot;</span><span class="p">:</span> <span class="s2">&quot;BM25&quot;</span>
            <span class="p">},</span>
        <span class="p">}</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.load_faiss_index">
<span class="sig-name descname"><span class="pre">load_faiss_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath" title="(in Python v3.14)"><span class="pre">PurePath</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datasets.Dataset.load_faiss_index" title="Link to this definition">#</a></dt>
<dd><p>Load a FaissIndex from disk.</p>
<p>If you want to do additional configurations, you can have access to the faiss index object by doing
<cite>.get_index(index_name).faiss_index</cite> to make it fit your needs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The index_name/identifier of the index. This is the index_name that is used to
call <cite>.get_nearest</cite> or <cite>.search</cite>.</p></li>
<li><p><strong>file</strong> (<cite>str</cite>) â€“ The path to the serialized faiss index on disk or remote URI (e.g. <cite>â€œs3://my-bucket/index.faissâ€</cite>).</p></li>
<li><p><strong>device</strong> (Optional <cite>Union[int, List[int]]</cite>) â€“ If positive integer, this is the index of the GPU to use. If negative integer, use all GPUs.
If a list of positive integers is passed in, run only on those GPUs. By default it uses the CPU.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.11.0â€/&gt;</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.save_faiss_index">
<span class="sig-name descname"><span class="pre">save_faiss_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath" title="(in Python v3.14)"><span class="pre">PurePath</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datasets.Dataset.save_faiss_index" title="Link to this definition">#</a></dt>
<dd><p>Save a FaissIndex on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The index_name/identifier of the index. This is the index_name that is used to call <cite>.get_nearest</cite> or <cite>.search</cite>.</p></li>
<li><p><strong>file</strong> (<cite>str</cite>) â€“ The path to the serialized faiss index on disk or remote URI (e.g. <cite>â€œs3://my-bucket/index.faissâ€</cite>).</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.11.0â€/&gt;</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchResults</span></span></span><a class="headerlink" href="#datasets.Dataset.search" title="Link to this definition">#</a></dt>
<dd><p>Find the nearest examples indices in the dataset to the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The name/identifier of the index.</p></li>
<li><p><strong>query</strong> (<cite>Union[str, np.ndarray]</cite>) â€“ The query as a string if <cite>index_name</cite> is a text index or as a numpy array if <cite>index_name</cite> is a vector index.</p></li>
<li><p><strong>k</strong> (<cite>int</cite>) â€“ The number of examples to retrieve.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of <cite>(scores, indices)</cite> where:
- <strong>scores</strong> (<cite>List[List[float]</cite>): the retrieval scores from either FAISS (<cite>IndexFlatL2</cite> by default) or ElasticSearch of the retrieved examples
- <strong>indices</strong> (<cite>List[List[int]]</cite>): the indices of the retrieved examples</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>(scores, indices)</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.search_batch">
<span class="sig-name descname"><span class="pre">search_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">queries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BatchedSearchResults</span></span></span><a class="headerlink" href="#datasets.Dataset.search_batch" title="Link to this definition">#</a></dt>
<dd><p>Find the nearest examples indices in the dataset to the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<cite>str</cite>) â€“ The <cite>index_name</cite>/identifier of the index.</p></li>
<li><p><strong>queries</strong> (<cite>Union[List[str], np.ndarray]</cite>) â€“ The queries as a list of strings if <cite>index_name</cite> is a text index or as a numpy array if <cite>index_name</cite> is a vector index.</p></li>
<li><p><strong>k</strong> (<cite>int</cite>) â€“ The number of examples to retrieve per query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of <cite>(total_scores, total_indices)</cite> where:
- <strong>total_scores</strong> (<cite>List[List[float]</cite>): the retrieval scores from either FAISS (<cite>IndexFlatL2</cite> by default) or ElasticSearch of the retrieved examples per query
- <strong>total_indices</strong> (<cite>List[List[int]]</cite>): the indices of the retrieved examples per query</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>(total_scores, total_indices)</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.Dataset.split">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split</span></span><a class="headerlink" href="#datasets.Dataset.split" title="Link to this definition">#</a></dt>
<dd><p>[<cite>~datasets.NamedSplit</cite>] object corresponding to a named dataset split.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.Dataset.to_tf_dataset">
<span class="sig-name descname"><span class="pre">to_tf_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collate_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collate_fn_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_test_batches</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datasets.Dataset.to_tf_dataset" title="Link to this definition">#</a></dt>
<dd><p>Create a <cite>tf.data.Dataset</cite> from the underlying Dataset. This <cite>tf.data.Dataset</cite> will load and collate batches from
the Dataset, and is suitable for passing to methods like <cite>model.fit()</cite> or <cite>model.predict()</cite>. The dataset will yield
<cite>dicts</cite> for both inputs and labels unless the <cite>dict</cite> would contain only a single key, in which case a raw
<cite>tf.Tensor</cite> is yielded instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of batches to load from the dataset. Defaults to <cite>None</cite>, which implies that the dataset wonâ€™t be
batched, but the returned dataset can be batched later with <cite>tf_dataset.batch(batch_size)</cite>.</p></li>
<li><p><strong>columns</strong> (<cite>List[str]</cite> or <cite>str</cite>, <em>optional</em>) â€“ Dataset column(s) to load in the <cite>tf.data.Dataset</cite>.
Column names that are created by the <cite>collate_fn</cite> and that do not exist in the original dataset can be used.</p></li>
<li><p><strong>shuffle</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Shuffle the dataset order when loading. Recommended <cite>True</cite> for training, <cite>False</cite> for
validation/evaluation.</p></li>
<li><p><strong>drop_remainder</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Drop the last incomplete batch when loading. Ensures
that all batches yielded by the dataset will have the same length on the batch dimension.</p></li>
<li><p><strong>collate_fn</strong> (<cite>Callable</cite>, <em>optional</em>) â€“ A function or callable object (such as a <cite>DataCollator</cite>) that will collate
lists of samples into a batch.</p></li>
<li><p><strong>collate_fn_args</strong> (<cite>Dict</cite>, <em>optional</em>) â€“ An optional <cite>dict</cite> of keyword arguments to be passed to the
<cite>collate_fn</cite>.</p></li>
<li><p><strong>label_cols</strong> (<cite>List[str]</cite> or <cite>str</cite>, defaults to <cite>None</cite>) â€“ Dataset column(s) to load as labels.
Note that many models compute loss internally rather than letting Keras do it, in which case
passing the labels here is optional, as long as theyâ€™re in the input <cite>columns</cite>.</p></li>
<li><p><strong>prefetch</strong> (<cite>bool</cite>, defaults to <cite>True</cite>) â€“ Whether to run the dataloader in a separate thread and maintain
a small buffer of batches for training. Improves performance by allowing data to be loaded in the
background while the model is training.</p></li>
<li><p><strong>num_workers</strong> (<cite>int</cite>, defaults to <cite>0</cite>) â€“ Number of workers to use for loading the dataset.</p></li>
<li><p><strong>num_test_batches</strong> (<cite>int</cite>, defaults to <cite>20</cite>) â€“ Number of batches to use to infer the output signature of the dataset.
The higher this number, the more accurate the signature will be, but the longer it will take to
create the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>tf.data.Dataset</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds_train</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_tf_dataset</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;input_ids&#39;</span><span class="p">,</span> <span class="s1">&#39;token_type_ids&#39;</span><span class="p">,</span> <span class="s1">&#39;attention_mask&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">],</span>
<span class="gp">... </span>   <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">batch_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">collate_fn</span><span class="o">=</span><span class="n">data_collator</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../dataset.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Dataset</p>
      </div>
    </a>
    <a class="right-next"
       href="datasets.Dataset.from_file.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">datasets.Dataset.from_file</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset"><code class="docutils literal notranslate"><span class="pre">Dataset</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_file"><code class="docutils literal notranslate"><span class="pre">Dataset.from_file()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_buffer"><code class="docutils literal notranslate"><span class="pre">Dataset.from_buffer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_pandas"><code class="docutils literal notranslate"><span class="pre">Dataset.from_pandas()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_polars"><code class="docutils literal notranslate"><span class="pre">Dataset.from_polars()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_dict"><code class="docutils literal notranslate"><span class="pre">Dataset.from_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_list"><code class="docutils literal notranslate"><span class="pre">Dataset.from_list()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_csv"><code class="docutils literal notranslate"><span class="pre">Dataset.from_csv()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_generator"><code class="docutils literal notranslate"><span class="pre">Dataset.from_generator()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_json"><code class="docutils literal notranslate"><span class="pre">Dataset.from_json()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_parquet"><code class="docutils literal notranslate"><span class="pre">Dataset.from_parquet()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_text"><code class="docutils literal notranslate"><span class="pre">Dataset.from_text()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_spark"><code class="docutils literal notranslate"><span class="pre">Dataset.from_spark()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.from_sql"><code class="docutils literal notranslate"><span class="pre">Dataset.from_sql()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.save_to_disk"><code class="docutils literal notranslate"><span class="pre">Dataset.save_to_disk()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.load_from_disk"><code class="docutils literal notranslate"><span class="pre">Dataset.load_from_disk()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.data"><code class="docutils literal notranslate"><span class="pre">Dataset.data</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.cache_files"><code class="docutils literal notranslate"><span class="pre">Dataset.cache_files</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.num_columns"><code class="docutils literal notranslate"><span class="pre">Dataset.num_columns</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.num_rows"><code class="docutils literal notranslate"><span class="pre">Dataset.num_rows</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.column_names"><code class="docutils literal notranslate"><span class="pre">Dataset.column_names</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.shape"><code class="docutils literal notranslate"><span class="pre">Dataset.shape</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.unique"><code class="docutils literal notranslate"><span class="pre">Dataset.unique()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.class_encode_column"><code class="docutils literal notranslate"><span class="pre">Dataset.class_encode_column()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.flatten"><code class="docutils literal notranslate"><span class="pre">Dataset.flatten()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.cast"><code class="docutils literal notranslate"><span class="pre">Dataset.cast()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.cast_column"><code class="docutils literal notranslate"><span class="pre">Dataset.cast_column()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.remove_columns"><code class="docutils literal notranslate"><span class="pre">Dataset.remove_columns()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.rename_column"><code class="docutils literal notranslate"><span class="pre">Dataset.rename_column()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.rename_columns"><code class="docutils literal notranslate"><span class="pre">Dataset.rename_columns()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.select_columns"><code class="docutils literal notranslate"><span class="pre">Dataset.select_columns()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.iter"><code class="docutils literal notranslate"><span class="pre">Dataset.iter()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.formatted_as"><code class="docutils literal notranslate"><span class="pre">Dataset.formatted_as()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.set_format"><code class="docutils literal notranslate"><span class="pre">Dataset.set_format()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.reset_format"><code class="docutils literal notranslate"><span class="pre">Dataset.reset_format()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.set_transform"><code class="docutils literal notranslate"><span class="pre">Dataset.set_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.with_format"><code class="docutils literal notranslate"><span class="pre">Dataset.with_format()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.with_transform"><code class="docutils literal notranslate"><span class="pre">Dataset.with_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.cleanup_cache_files"><code class="docutils literal notranslate"><span class="pre">Dataset.cleanup_cache_files()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.map"><code class="docutils literal notranslate"><span class="pre">Dataset.map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.batch"><code class="docutils literal notranslate"><span class="pre">Dataset.batch()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.filter"><code class="docutils literal notranslate"><span class="pre">Dataset.filter()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.flatten_indices"><code class="docutils literal notranslate"><span class="pre">Dataset.flatten_indices()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.select"><code class="docutils literal notranslate"><span class="pre">Dataset.select()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.skip"><code class="docutils literal notranslate"><span class="pre">Dataset.skip()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.repeat"><code class="docutils literal notranslate"><span class="pre">Dataset.repeat()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.take"><code class="docutils literal notranslate"><span class="pre">Dataset.take()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.sort"><code class="docutils literal notranslate"><span class="pre">Dataset.sort()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.shuffle"><code class="docutils literal notranslate"><span class="pre">Dataset.shuffle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.train_test_split"><code class="docutils literal notranslate"><span class="pre">Dataset.train_test_split()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.shard"><code class="docutils literal notranslate"><span class="pre">Dataset.shard()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_csv"><code class="docutils literal notranslate"><span class="pre">Dataset.to_csv()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_dict"><code class="docutils literal notranslate"><span class="pre">Dataset.to_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_list"><code class="docutils literal notranslate"><span class="pre">Dataset.to_list()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_json"><code class="docutils literal notranslate"><span class="pre">Dataset.to_json()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_pandas"><code class="docutils literal notranslate"><span class="pre">Dataset.to_pandas()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_polars"><code class="docutils literal notranslate"><span class="pre">Dataset.to_polars()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_parquet"><code class="docutils literal notranslate"><span class="pre">Dataset.to_parquet()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_sql"><code class="docutils literal notranslate"><span class="pre">Dataset.to_sql()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_iterable_dataset"><code class="docutils literal notranslate"><span class="pre">Dataset.to_iterable_dataset()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.push_to_hub"><code class="docutils literal notranslate"><span class="pre">Dataset.push_to_hub()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.add_column"><code class="docutils literal notranslate"><span class="pre">Dataset.add_column()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.add_faiss_index"><code class="docutils literal notranslate"><span class="pre">Dataset.add_faiss_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.add_faiss_index_from_external_arrays"><code class="docutils literal notranslate"><span class="pre">Dataset.add_faiss_index_from_external_arrays()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.add_elasticsearch_index"><code class="docutils literal notranslate"><span class="pre">Dataset.add_elasticsearch_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.add_item"><code class="docutils literal notranslate"><span class="pre">Dataset.add_item()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.align_labels_with_mapping"><code class="docutils literal notranslate"><span class="pre">Dataset.align_labels_with_mapping()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.drop_index"><code class="docutils literal notranslate"><span class="pre">Dataset.drop_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.get_index"><code class="docutils literal notranslate"><span class="pre">Dataset.get_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.get_nearest_examples"><code class="docutils literal notranslate"><span class="pre">Dataset.get_nearest_examples()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.get_nearest_examples_batch"><code class="docutils literal notranslate"><span class="pre">Dataset.get_nearest_examples_batch()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.info"><code class="docutils literal notranslate"><span class="pre">Dataset.info</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.list_indexes"><code class="docutils literal notranslate"><span class="pre">Dataset.list_indexes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.load_elasticsearch_index"><code class="docutils literal notranslate"><span class="pre">Dataset.load_elasticsearch_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.load_faiss_index"><code class="docutils literal notranslate"><span class="pre">Dataset.load_faiss_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.save_faiss_index"><code class="docutils literal notranslate"><span class="pre">Dataset.save_faiss_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.search"><code class="docutils literal notranslate"><span class="pre">Dataset.search()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.search_batch"><code class="docutils literal notranslate"><span class="pre">Dataset.search_batch()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.split"><code class="docutils literal notranslate"><span class="pre">Dataset.split</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.Dataset.to_tf_dataset"><code class="docutils literal notranslate"><span class="pre">Dataset.to_tf_dataset()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/huggingface/datasets/edit/main/docs/source/api/generated/datasets.Dataset.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      Â© Copyright 2025, HuggingFace Inc..
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>