
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>datasets.IterableDataset &#8212; Datasets 4.4.2.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=564b2b0d" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=62d5458c"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=fd10adb8"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/generated/datasets.IterableDataset';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="datasets.IterableDataset.from_generator" href="datasets.IterableDataset.from_generator.html" />
    <link rel="prev" title="IterableDataset" href="../iterable_dataset.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="4.4.2.dev0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">ğŸ¤— Datasets</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../howto.html">
    How-to Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts.html">
    Conceptual Guides
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/huggingface/datasets" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://huggingface.co/datasets" title="Hugging Face" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-house fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Hugging Face</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../howto.html">
    How-to Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts.html">
    Conceptual Guides
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/huggingface/datasets" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://huggingface.co/datasets" title="Hugging Face" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-house fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Hugging Face</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../dataset.html">Dataset</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.html">datasets.Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_file.html">datasets.Dataset.from_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_buffer.html">datasets.Dataset.from_buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_pandas.html">datasets.Dataset.from_pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_dict.html">datasets.Dataset.from_dict</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.from_generator.html">datasets.Dataset.from_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.data.html">datasets.Dataset.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cache_files.html">datasets.Dataset.cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.num_columns.html">datasets.Dataset.num_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.num_rows.html">datasets.Dataset.num_rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.column_names.html">datasets.Dataset.column_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.shape.html">datasets.Dataset.shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.info.html">datasets.Dataset.info</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.split.html">datasets.Dataset.split</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.builder_name.html">datasets.Dataset.builder_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.citation.html">datasets.Dataset.citation</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.config_name.html">datasets.Dataset.config_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.description.html">datasets.Dataset.description</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.download_checksums.html">datasets.Dataset.download_checksums</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.download_size.html">datasets.Dataset.download_size</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.features.html">datasets.Dataset.features</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.homepage.html">datasets.Dataset.homepage</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.license.html">datasets.Dataset.license</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.size_in_bytes.html">datasets.Dataset.size_in_bytes</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.supervised_keys.html">datasets.Dataset.supervised_keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.version.html">datasets.Dataset.version</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.flatten.html">datasets.Dataset.flatten</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cast.html">datasets.Dataset.cast</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cast_column.html">datasets.Dataset.cast_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_column.html">datasets.Dataset.add_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.remove_columns.html">datasets.Dataset.remove_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.rename_column.html">datasets.Dataset.rename_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.rename_columns.html">datasets.Dataset.rename_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.select_columns.html">datasets.Dataset.select_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.class_encode_column.html">datasets.Dataset.class_encode_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.sort.html">datasets.Dataset.sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.shuffle.html">datasets.Dataset.shuffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.select.html">datasets.Dataset.select</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.filter.html">datasets.Dataset.filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.unique.html">datasets.Dataset.unique</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.train_test_split.html">datasets.Dataset.train_test_split</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.shard.html">datasets.Dataset.shard</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.map.html">datasets.Dataset.map</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.batch.html">datasets.Dataset.batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.with_format.html">datasets.Dataset.with_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.with_transform.html">datasets.Dataset.with_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.set_format.html">datasets.Dataset.set_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.set_transform.html">datasets.Dataset.set_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.reset_format.html">datasets.Dataset.reset_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.formatted_as.html">datasets.Dataset.formatted_as</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.__len__.html">datasets.Dataset.__len__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.__iter__.html">datasets.Dataset.__iter__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.iter.html">datasets.Dataset.iter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.__getitem__.html">datasets.Dataset.__getitem__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.save_to_disk.html">datasets.Dataset.save_to_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.load_from_disk.html">datasets.Dataset.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_csv.html">datasets.Dataset.to_csv</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_pandas.html">datasets.Dataset.to_pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_dict.html">datasets.Dataset.to_dict</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_json.html">datasets.Dataset.to_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_parquet.html">datasets.Dataset.to_parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_sql.html">datasets.Dataset.to_sql</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.to_iterable_dataset.html">datasets.Dataset.to_iterable_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.push_to_hub.html">datasets.Dataset.push_to_hub</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.cleanup_cache_files.html">datasets.Dataset.cleanup_cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_faiss_index.html">datasets.Dataset.add_faiss_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_faiss_index_from_external_arrays.html">datasets.Dataset.add_faiss_index_from_external_arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.save_faiss_index.html">datasets.Dataset.save_faiss_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.load_faiss_index.html">datasets.Dataset.load_faiss_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.add_elasticsearch_index.html">datasets.Dataset.add_elasticsearch_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.load_elasticsearch_index.html">datasets.Dataset.load_elasticsearch_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.list_indexes.html">datasets.Dataset.list_indexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.get_index.html">datasets.Dataset.get_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.drop_index.html">datasets.Dataset.drop_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.search.html">datasets.Dataset.search</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.search_batch.html">datasets.Dataset.search_batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.get_nearest_examples.html">datasets.Dataset.get_nearest_examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.get_nearest_examples_batch.html">datasets.Dataset.get_nearest_examples_batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Dataset.align_labels_with_mapping.html">datasets.Dataset.align_labels_with_mapping</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../dataset_dict.html">DatasetDict</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.html">datasets.DatasetDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_csv.html">datasets.DatasetDict.from_csv</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_json.html">datasets.DatasetDict.from_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_parquet.html">datasets.DatasetDict.from_parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.from_text.html">datasets.DatasetDict.from_text</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.data.html">datasets.DatasetDict.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cache_files.html">datasets.DatasetDict.cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.num_columns.html">datasets.DatasetDict.num_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.num_rows.html">datasets.DatasetDict.num_rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.column_names.html">datasets.DatasetDict.column_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.shape.html">datasets.DatasetDict.shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.map.html">datasets.DatasetDict.map</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.filter.html">datasets.DatasetDict.filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.sort.html">datasets.DatasetDict.sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.shuffle.html">datasets.DatasetDict.shuffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.set_format.html">datasets.DatasetDict.set_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.reset_format.html">datasets.DatasetDict.reset_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.set_transform.html">datasets.DatasetDict.set_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.with_format.html">datasets.DatasetDict.with_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.with_transform.html">datasets.DatasetDict.with_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.flatten.html">datasets.DatasetDict.flatten</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cast.html">datasets.DatasetDict.cast</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cast_column.html">datasets.DatasetDict.cast_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.remove_columns.html">datasets.DatasetDict.remove_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.rename_column.html">datasets.DatasetDict.rename_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.rename_columns.html">datasets.DatasetDict.rename_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.select_columns.html">datasets.DatasetDict.select_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.class_encode_column.html">datasets.DatasetDict.class_encode_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.save_to_disk.html">datasets.DatasetDict.save_to_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.load_from_disk.html">datasets.DatasetDict.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.push_to_hub.html">datasets.DatasetDict.push_to_hub</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.cleanup_cache_files.html">datasets.DatasetDict.cleanup_cache_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetDict.align_labels_with_mapping.html">datasets.DatasetDict.align_labels_with_mapping</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../iterable_dataset.html">IterableDataset</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">datasets.IterableDataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.from_generator.html">datasets.IterableDataset.from_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.n_shards.html">datasets.IterableDataset.n_shards</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.map.html">datasets.IterableDataset.map</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.filter.html">datasets.IterableDataset.filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.shuffle.html">datasets.IterableDataset.shuffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.skip.html">datasets.IterableDataset.skip</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.take.html">datasets.IterableDataset.take</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.with_format.html">datasets.IterableDataset.with_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.__iter__.html">datasets.IterableDataset.__iter__</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.iter.html">datasets.IterableDataset.iter</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.add_column.html">datasets.IterableDataset.add_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.remove_columns.html">datasets.IterableDataset.remove_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.rename_column.html">datasets.IterableDataset.rename_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.rename_columns.html">datasets.IterableDataset.rename_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.select_columns.html">datasets.IterableDataset.select_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.cast.html">datasets.IterableDataset.cast</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.IterableDataset.cast_column.html">datasets.IterableDataset.cast_column</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../features.html">Features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.Features.html">datasets.Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Value.html">datasets.Value</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ClassLabel.html">datasets.ClassLabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Sequence.html">datasets.Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array2D.html">datasets.Array2D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array3D.html">datasets.Array3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array4D.html">datasets.Array4D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Array5D.html">datasets.Array5D</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Audio.html">datasets.Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Image.html">datasets.Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.Translation.html">datasets.Translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.TranslationVariableLanguages.html">datasets.TranslationVariableLanguages</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ClassLabel.int2str.html">datasets.ClassLabel.int2str</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ClassLabel.str2int.html">datasets.ClassLabel.str2int</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../builders.html">Dataset builders</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetBuilder.html">datasets.DatasetBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.GeneratorBasedBuilder.html">datasets.GeneratorBasedBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.ArrowBasedBuilder.html">datasets.ArrowBasedBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetBuilder.download_and_prepare.html">datasets.DatasetBuilder.download_and_prepare</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DatasetBuilder.as_dataset.html">datasets.DatasetBuilder.as_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.BuilderConfig.html">datasets.BuilderConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DownloadConfig.html">datasets.DownloadConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DownloadManager.html">datasets.DownloadManager</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.DownloadMode.html">datasets.DownloadMode</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.VerificationMode.html">datasets.VerificationMode</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../loading.html">Loading methods</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_dataset.html">datasets.load_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_dataset_builder.html">datasets.load_dataset_builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_from_disk.html">datasets.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.load_from_disk.html">datasets.load_from_disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_config_names.html">datasets.get_dataset_config_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_config_info.html">datasets.get_dataset_config_info</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_infos.html">datasets.get_dataset_infos</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_split_names.html">datasets.get_dataset_split_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.get_dataset_default_config_name.html">datasets.get_dataset_default_config_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.enable_progress_bar.html">datasets.enable_progress_bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.disable_progress_bar.html">datasets.disable_progress_bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.is_progress_bar_enabled.html">datasets.is_progress_bar_enabled</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../utilities.html">Utilities</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.disable_caching.html">datasets.disable_caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.enable_caching.html">datasets.enable_caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.is_caching_enabled.html">datasets.is_caching_enabled</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.fingerprint.Hasher.html">datasets.fingerprint.Hasher</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.get_logger.html">datasets.logging.get_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity.html">datasets.logging.set_verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.get_verbosity.html">datasets.logging.get_verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_info.html">datasets.logging.set_verbosity_info</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_warning.html">datasets.logging.set_verbosity_warning</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_debug.html">datasets.logging.set_verbosity_debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.logging.set_verbosity_error.html">datasets.logging.set_verbosity_error</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.__version__.html">datasets.__version__</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">API Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="../iterable_dataset.html" class="nav-link">IterableDataset</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">datasets.IterableDataset</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="datasets-iterabledataset">
<h1>datasets.IterableDataset<a class="headerlink" href="#datasets-iterabledataset" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="datasets.IterableDataset">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datasets.</span></span><span class="sig-name descname"><span class="pre">IterableDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ex_iterable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BaseExamplesIterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatasetInfo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatting</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FormattingConfig</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffling</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ShufflingConfig</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distributed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DistributedConfig</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_per_repo_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DatasetInfoMixin</span></code></p>
<p>A Dataset backed by an iterable.</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.IterableDataset.add_column.html#datasets.IterableDataset.add_column" title="datasets.IterableDataset.add_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_column</span></code></a></p></td>
<td><p>Add column to Dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.batch" title="datasets.IterableDataset.batch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">batch</span></code></a></p></td>
<td><p>Group samples from the dataset into batches.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.IterableDataset.cast.html#datasets.IterableDataset.cast" title="datasets.IterableDataset.cast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cast</span></code></a></p></td>
<td><p>Cast the dataset to a new set of features.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.cast_column.html#datasets.IterableDataset.cast_column" title="datasets.IterableDataset.cast_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cast_column</span></code></a></p></td>
<td><p>Cast column to feature for decoding.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.decode" title="datasets.IterableDataset.decode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decode</span></code></a></p></td>
<td><p>Enable or disable the dataset features decoding for audio, image, video.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.filter.html#datasets.IterableDataset.filter" title="datasets.IterableDataset.filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code></a></p></td>
<td><p>Apply a filter function to all the elements so that the dataset only includes examples according to the filter function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.from_file" title="datasets.IterableDataset.from_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_file</span></code></a></p></td>
<td><p>Instantiate a IterableDataset from Arrow table at filename.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.from_generator.html#datasets.IterableDataset.from_generator" title="datasets.IterableDataset.from_generator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_generator</span></code></a></p></td>
<td><p>Create an Iterable Dataset from a generator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.from_spark" title="datasets.IterableDataset.from_spark"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_spark</span></code></a></p></td>
<td><p>Create an IterableDataset from Spark DataFrame.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.iter.html#datasets.IterableDataset.iter" title="datasets.IterableDataset.iter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter</span></code></a></p></td>
<td><p>Iterate through the batches of size <cite>batch_size</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.load_state_dict" title="datasets.IterableDataset.load_state_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_state_dict</span></code></a></p></td>
<td><p>Load the state_dict of the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.map.html#datasets.IterableDataset.map" title="datasets.IterableDataset.map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map</span></code></a></p></td>
<td><p>Apply a function to all the examples in the iterable dataset (individually or in batches) and update them.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.push_to_hub" title="datasets.IterableDataset.push_to_hub"><code class="xref py py-obj docutils literal notranslate"><span class="pre">push_to_hub</span></code></a></p></td>
<td><p>Pushes the dataset to the hub as a Parquet dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.remove_columns.html#datasets.IterableDataset.remove_columns" title="datasets.IterableDataset.remove_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_columns</span></code></a></p></td>
<td><p>Remove one or several column(s) in the dataset and the features associated to them.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.IterableDataset.rename_column.html#datasets.IterableDataset.rename_column" title="datasets.IterableDataset.rename_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename_column</span></code></a></p></td>
<td><p>Rename a column in the dataset, and move the features associated to the original column under the new column name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.rename_columns.html#datasets.IterableDataset.rename_columns" title="datasets.IterableDataset.rename_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename_columns</span></code></a></p></td>
<td><p>Rename several columns in the dataset, and move the features associated to the original columns under the new column names.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.repeat" title="datasets.IterableDataset.repeat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">repeat</span></code></a></p></td>
<td><p>Create a new [<cite>IterableDataset</cite>] that repeats the underlying dataset <cite>num_times</cite> times.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.select_columns.html#datasets.IterableDataset.select_columns" title="datasets.IterableDataset.select_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select_columns</span></code></a></p></td>
<td><p>Select one or several column(s) in the dataset and the features associated to them.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_epoch</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.shard" title="datasets.IterableDataset.shard"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shard</span></code></a></p></td>
<td><p>Return the <cite>index</cite>-nth shard from dataset split into <cite>num_shards</cite> pieces.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.IterableDataset.shuffle.html#datasets.IterableDataset.shuffle" title="datasets.IterableDataset.shuffle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shuffle</span></code></a></p></td>
<td><p>Randomly shuffles the elements of this dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.skip.html#datasets.IterableDataset.skip" title="datasets.IterableDataset.skip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skip</span></code></a></p></td>
<td><p>Create a new [<cite>IterableDataset</cite>] that skips the first <cite>n</cite> elements.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.state_dict" title="datasets.IterableDataset.state_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">state_dict</span></code></a></p></td>
<td><p>Get the current state_dict of the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="datasets.IterableDataset.take.html#datasets.IterableDataset.take" title="datasets.IterableDataset.take"><code class="xref py py-obj docutils literal notranslate"><span class="pre">take</span></code></a></p></td>
<td><p>Create a new [<cite>IterableDataset</cite>] with only the first <cite>n</cite> elements.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_csv" title="datasets.IterableDataset.to_csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_csv</span></code></a></p></td>
<td><p>Exports the dataset to csv.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_dict" title="datasets.IterableDataset.to_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_dict</span></code></a></p></td>
<td><p>Returns the dataset as a Python dict.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_json" title="datasets.IterableDataset.to_json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_json</span></code></a></p></td>
<td><p>Export the dataset to JSON Lines or JSON.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_list" title="datasets.IterableDataset.to_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_list</span></code></a></p></td>
<td><p>Returns the dataset as a Python list.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_pandas" title="datasets.IterableDataset.to_pandas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_pandas</span></code></a></p></td>
<td><p>Returns the dataset as a <cite>pandas.DataFrame</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_parquet" title="datasets.IterableDataset.to_parquet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_parquet</span></code></a></p></td>
<td><p>Exports the dataset to parquet</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_polars" title="datasets.IterableDataset.to_polars"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_polars</span></code></a></p></td>
<td><p>Returns the dataset as a <cite>polars.DataFrame</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.to_sql" title="datasets.IterableDataset.to_sql"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_sql</span></code></a></p></td>
<td><p>Exports the dataset to a SQL database.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.IterableDataset.with_format.html#datasets.IterableDataset.with_format" title="datasets.IterableDataset.with_format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">with_format</span></code></a></p></td>
<td><p>Return a dataset with the specified format.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Attributes</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">builder_name</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">citation</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.column_names" title="datasets.IterableDataset.column_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">column_names</span></code></a></p></td>
<td><p>Names of the columns in the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">config_name</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataset_size</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">description</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">download_checksums</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">download_size</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">epoch</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">features</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">homepage</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.info" title="datasets.IterableDataset.info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">info</span></code></a></p></td>
<td><p>[<cite>~datasets.DatasetInfo</cite>] object containing all the metadata in the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">license</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="datasets.IterableDataset.n_shards.html#datasets.IterableDataset.n_shards" title="datasets.IterableDataset.n_shards"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_shards</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#datasets.IterableDataset.num_columns" title="datasets.IterableDataset.num_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">num_columns</span></code></a></p></td>
<td><p>Number of columns in the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">num_shards</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">size_in_bytes</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#datasets.IterableDataset.split" title="datasets.IterableDataset.split"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code></a></p></td>
<td><p>[<cite>~datasets.NamedSplit</cite>] object corresponding to a named dataset split.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">supervised_keys</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="datasets.IterableDataset.num_columns">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><a class="headerlink" href="#datasets.IterableDataset.num_columns" title="Link to this definition">#</a></dt>
<dd><p>Number of columns in the dataset.
This can be None if the dataset has unknown features (e.g. after a map() operation).</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">num_columns</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.IterableDataset.column_names">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">column_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><a class="headerlink" href="#datasets.IterableDataset.column_names" title="Link to this definition">#</a></dt>
<dd><p>Names of the columns in the dataset.
This can be None if the dataset has unknown features (e.g. after a map() operation).</p>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">column_names</span>
<span class="go">[&#39;text&#39;, &#39;label&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.state_dict">
<span class="sig-name descname"><span class="pre">state_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.state_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.state_dict" title="Link to this definition">#</a></dt>
<dd><p>Get the current state_dict of the dataset.
It corresponds to the state at the latest example it yielded.</p>
<p>Resuming returns exactly where the checkpoint was saved except in two cases:</p>
<ol class="arabic simple">
<li><p>examples from shuffle buffers are lost when resuming and the buffers are refilled with new data</p></li>
<li><p>combinations of <cite>.with_format(arrow)</cite> and batched <cite>.map()</cite> may skip one batch.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>dict</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dataset</span><span class="p">,</span> <span class="n">concatenate_datasets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)})</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">example</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">state_dict</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">state_dict</span><span class="p">()</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">break</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">load_state_dict</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;restart from checkpoint&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ds</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
</pre></div>
</div>
<p>which returns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">checkpoint</span>
<span class="n">restart</span> <span class="kn">from</span><span class="w"> </span><span class="nn">checkpoint</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchdata.stateful_dataloader</span><span class="w"> </span><span class="kn">import</span> <span class="n">StatefulDataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;deepmind/code_contests&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span> <span class="o">=</span> <span class="n">StatefulDataLoader</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># checkpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">state_dict</span> <span class="o">=</span> <span class="n">dataloader</span><span class="o">.</span><span class="n">state_dict</span><span class="p">()</span>  <span class="c1"># uses ds.state_dict() under the hood</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># resume from checkpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span><span class="o">.</span><span class="n">load_state_dict</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>  <span class="c1"># uses ds.load_state_dict() under the hood</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.load_state_dict">
<span class="sig-name descname"><span class="pre">load_state_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.load_state_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.load_state_dict" title="Link to this definition">#</a></dt>
<dd><p>Load the state_dict of the dataset.
The iteration will restart at the next example from when the state was saved.</p>
<p>Resuming returns exactly where the checkpoint was saved except in two cases:</p>
<ol class="arabic simple">
<li><p>examples from shuffle buffers are lost when resuming and the buffers are refilled with new data</p></li>
<li><p>combinations of <cite>.with_format(arrow)</cite> and batched <cite>.map()</cite> may skip one batch.</p></li>
</ol>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dataset</span><span class="p">,</span> <span class="n">concatenate_datasets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)})</span><span class="o">.</span><span class="n">to_iterable_dataset</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">example</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">state_dict</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">state_dict</span><span class="p">()</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">break</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">load_state_dict</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;restart from checkpoint&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">ds</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
</pre></div>
</div>
<p>which returns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">checkpoint</span>
<span class="n">restart</span> <span class="kn">from</span><span class="w"> </span><span class="nn">checkpoint</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchdata.stateful_dataloader</span><span class="w"> </span><span class="kn">import</span> <span class="n">StatefulDataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;deepmind/code_contests&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span> <span class="o">=</span> <span class="n">StatefulDataLoader</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># checkpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">state_dict</span> <span class="o">=</span> <span class="n">dataloader</span><span class="o">.</span><span class="n">state_dict</span><span class="p">()</span>  <span class="c1"># uses ds.state_dict() under the hood</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># resume from checkpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span><span class="o">.</span><span class="n">load_state_dict</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>  <span class="c1"># uses ds.load_state_dict() under the hood</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.iter">
<span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_last_batch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.iter" title="Link to this definition">#</a></dt>
<dd><p>Iterate through the batches of size <cite>batch_size</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) â€“ size of each batch to yield.</p></li>
<li><p><strong>drop_last_batch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default <cite>False</cite>) â€“ Whether a last batch smaller than the batch_size should be
dropped</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.from_generator">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">NamedSplit('train')</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.from_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.from_generator" title="Link to this definition">#</a></dt>
<dd><p>Create an Iterable Dataset from a generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> (<cite>Callable</cite>) â€“ A generator function that <cite>yields</cite> examples.</p></li>
<li><p><strong>features</strong> (<cite>Features</cite>, <em>optional</em>) â€“ Dataset features.</p></li>
<li><p><strong>gen_kwargs</strong> (<cite>dict</cite>, <em>optional</em>) â€“ Keyword arguments to be passed to the <cite>generator</cite> callable.
You can define a sharded iterable dataset by passing the list of shards in <cite>gen_kwargs</cite>.
This can be used to improve shuffling and when iterating over the dataset with multiple workers.</p></li>
<li><p><strong>split</strong> ([<cite>NamedSplit</cite>], defaults to <cite>Split.TRAIN</cite>) â€“ <p>Split name to be assigned to the dataset.</p>
<p>&lt;Added version=â€2.21.0â€/&gt;</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">gen</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">yield</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Good&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="gp">... </span>    <span class="k">yield</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">IterableDataset</span><span class="o">.</span><span class="n">from_generator</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">gen</span><span class="p">(</span><span class="n">shards</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">shard</span> <span class="ow">in</span> <span class="n">shards</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">shard</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>                <span class="k">yield</span> <span class="p">{</span><span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="n">line</span><span class="p">}</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shards</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;data</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.txt&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">IterableDataset</span><span class="o">.</span><span class="n">from_generator</span><span class="p">(</span><span class="n">gen</span><span class="p">,</span> <span class="n">gen_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;shards&quot;</span><span class="p">:</span> <span class="n">shards</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">buffer_size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">)</span>  <span class="c1"># shuffles the shards order + uses a shuffle buffer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torch.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataloader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">with_format</span><span class="p">(</span><span class="s2">&quot;torch&quot;</span><span class="p">),</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># give each worker a subset of 32/4=8 shards</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.from_spark">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_spark</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pyspark.sql.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NamedSplit</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.from_spark"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.from_spark" title="Link to this definition">#</a></dt>
<dd><p>Create an IterableDataset from Spark DataFrame. The dataset is streamed to the driver in batches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<cite>pyspark.sql.DataFrame</cite>) â€“ The DataFrame containing the desired data.</p></li>
<li><p><strong>split</strong> (<cite>NamedSplit</cite>, <em>optional</em>) â€“ Split name to be assigned to the dataset.</p></li>
<li><p><strong>features</strong> (<cite>Features</cite>, <em>optional</em>) â€“ Dataset features.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>IterableDataset</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Elia&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Teo&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;Fang&quot;</span><span class="p">]],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">IterableDataset</span><span class="o">.</span><span class="n">from_spark</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.from_file">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.from_file" title="Link to this definition">#</a></dt>
<dd><p>Instantiate a IterableDataset from Arrow table at filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<cite>str</cite>) â€“ File name of the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[<cite>IterableDataset</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.with_format">
<span class="sig-name descname"><span class="pre">with_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.with_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.with_format" title="Link to this definition">#</a></dt>
<dd><p>Return a dataset with the specified format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>type</strong> (<cite>str</cite>, <em>optional</em>) â€“ Either output type selected in <cite>[None, â€˜numpyâ€™, â€˜torchâ€™, â€˜tensorflowâ€™, â€˜jaxâ€™, â€˜arrowâ€™, â€˜pandasâ€™, â€˜polarsâ€™]</cite>.
<cite>None</cite> means it returns python objects (default).</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">transformers</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;bert-base-cased&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">batched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">with_format</span><span class="p">(</span><span class="s2">&quot;torch&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;text&#39;: &#39;compassionately explores the seemingly irreconcilable situation between conservative christian parents and their estranged gay and lesbian children .&#39;,</span>
<span class="go"> &#39;label&#39;: tensor(1),</span>
<span class="go"> &#39;input_ids&#39;: tensor([  101, 18027, 16310, 16001,  1103,  9321,   178, 11604,  7235,  6617,</span>
<span class="go">        1742,  2165,  2820,  1206,  6588, 22572, 12937,  1811,  2153,  1105,</span>
<span class="go">        1147, 12890, 19587,  6463,  1105, 15026,  1482,   119,   102,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0,     0,     0,     0,     0,     0,     0,</span>
<span class="go">            0,     0,     0,     0]),</span>
<span class="go"> &#39;token_type_ids&#39;: tensor([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),</span>
<span class="go"> &#39;attention_mask&#39;: tensor([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,</span>
<span class="go">        1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span>
<span class="go">        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_last_batch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.map" title="Link to this definition">#</a></dt>
<dd><p>Apply a function to all the examples in the iterable dataset (individually or in batches) and update them.
If your function returns a column that already exists, then it overwrites it.
The function is applied on-the-fly on the examples when iterating over the dataset.</p>
<p>You can specify whether the function should be batched or not with the <cite>batched</cite> parameter:</p>
<ul class="simple">
<li><p>If batched is <cite>False</cite>, then the function takes 1 example in and should return 1 example.
An example is a dictionary, e.g. <cite>{â€œtextâ€: â€œHello there !â€}</cite>.</p></li>
<li><p>If batched is <cite>True</cite> and <cite>batch_size</cite> is 1, then the function takes a batch of 1 example as input and can return a batch with 1 or more examples.
A batch is a dictionary, e.g. a batch of 1 example is {â€œtextâ€: [â€œHello there !â€]}.</p></li>
<li><p>If batched is <cite>True</cite> and <cite>batch_size</cite> is <cite>n</cite> &gt; 1, then the function takes a batch of <cite>n</cite> examples as input and can return a batch with <cite>n</cite> examples, or with an arbitrary number of examples.
Note that the last batch may have less than <cite>n</cite> examples.
A batch is a dictionary, e.g. a batch of <cite>n</cite> examples is <cite>{â€œtextâ€: [â€œHello there !â€] * n}</cite>.</p></li>
</ul>
<p>If the function is asynchronous, then <cite>map</cite> will run your function in parallel, with up to one thousand simulatenous calls.
It is recommended to use a <cite>asyncio.Semaphore</cite> in your function if you want to set a maximum number of operations that can run at the same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<cite>Callable</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ <p>Function applied on-the-fly on the examples when you iterate on the dataset.
It must have one of the following signatures:</p>
<ul>
<li><p><cite>function(example: Dict[str, Any]) -&gt; Dict[str, Any]</cite> if <cite>batched=False</cite> and <cite>with_indices=False</cite></p></li>
<li><p><cite>function(example: Dict[str, Any], idx: int) -&gt; Dict[str, Any]</cite> if <cite>batched=False</cite> and <cite>with_indices=True</cite></p></li>
<li><p><cite>function(batch: Dict[str, List]) -&gt; Dict[str, List]</cite> if <cite>batched=True</cite> and <cite>with_indices=False</cite></p></li>
<li><p><cite>function(batch: Dict[str, List], indices: List[int]) -&gt; Dict[str, List]</cite> if <cite>batched=True</cite> and <cite>with_indices=True</cite></p></li>
</ul>
<p>For advanced usage, the function can also return a <cite>pyarrow.Table</cite>.
If the function is asynchronous, then <cite>map</cite> will run your function in parallel.
Moreover if your function returns nothing (<cite>None</cite>), then <cite>map</cite> will run your function and return the dataset unchanged.
If no function is provided, default to identity function: <cite>lambda x: x</cite>.</p>
</p></li>
<li><p><strong>with_indices</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide example indices to <cite>function</cite>. Note that in this case the signature of <cite>function</cite> should be <cite>def function(example, idx[, rank]): â€¦</cite>.</p></li>
<li><p><strong>input_columns</strong> (<cite>Optional[Union[str, List[str]]]</cite>, defaults to <cite>None</cite>) â€“ The columns to be passed into <cite>function</cite>
as positional arguments. If <cite>None</cite>, a dict mapping to all formatted columns is passed as one argument.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide batch of examples to <cite>function</cite>.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>1000</cite>) â€“ Number of examples per batch provided to <cite>function</cite> if <cite>batched=True</cite>.
<cite>batch_size &lt;= 0</cite> or <cite>batch_size == None</cite> then provide the full dataset as a single batch to <cite>function</cite>.</p></li>
<li><p><strong>drop_last_batch</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether a last batch smaller than the batch_size should be
dropped instead of being processed by the function.</p></li>
<li><p><strong>remove_columns</strong> (<cite>[List[str]]</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Remove a selection of columns while doing the mapping.
Columns will be removed before updating the examples with the output of <cite>function</cite>, i.e. if <cite>function</cite> is adding
columns with names in <cite>remove_columns</cite>, these columns will be kept.</p></li>
<li><p><strong>features</strong> (<cite>[Features]</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Feature types of the resulting dataset.</p></li>
<li><p><strong>fn_kwargs</strong> (<cite>Dict</cite>, <em>optional</em>, default <cite>None</cite>) â€“ Keyword arguments to be passed to <cite>function</cite>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">add_prefix</span><span class="p">(</span><span class="n">example</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">example</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Review: &quot;</span> <span class="o">+</span> <span class="n">example</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">add_prefix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;Review: the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;Review: the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;Review: effective but too-tepid biopic&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.filter" title="Link to this definition">#</a></dt>
<dd><p>Apply a filter function to all the elements so that the dataset only includes examples according to the filter function.
The filtering is done on-the-fly when iterating over the dataset.</p>
<p>If the function is asynchronous, then <cite>filter</cite> will run your function in parallel, with up to one thousand simulatenous calls (configurable).
It is recommended to use a <cite>asyncio.Semaphore</cite> in your function if you want to set a maximum number of operations that can run at the same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<cite>Callable</cite>) â€“ <p>Callable with one of the following signatures:</p>
<ul>
<li><p><cite>function(example: Dict[str, Any]) -&gt; bool</cite> if <cite>with_indices=False, batched=False</cite></p></li>
<li><p><cite>function(example: Dict[str, Any], indices: int) -&gt; bool</cite> if <cite>with_indices=True, batched=False</cite></p></li>
<li><p><cite>function(example: Dict[str, List]) -&gt; List[bool]</cite> if <cite>with_indices=False, batched=True</cite></p></li>
<li><p><cite>function(example: Dict[str, List], indices: List[int]) -&gt; List[bool]</cite> if <cite>with_indices=True, batched=True</cite></p></li>
</ul>
<p>If the function is asynchronous, then <cite>filter</cite> will run your function in parallel.
If no function is provided, defaults to an always True function: <cite>lambda x: True</cite>.</p>
</p></li>
<li><p><strong>with_indices</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide example indices to <cite>function</cite>. Note that in this case the signature of <cite>function</cite> should be <cite>def function(example, idx): â€¦</cite>.</p></li>
<li><p><strong>input_columns</strong> (<cite>str</cite> or <cite>List[str]</cite>, <em>optional</em>) â€“ The columns to be passed into <cite>function</cite> as
positional arguments. If <cite>None</cite>, a dict mapping to all formatted columns is passed as one argument.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Provide batch of examples to <cite>function</cite>.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>, default <cite>1000</cite>) â€“ Number of examples per batch provided to <cite>function</cite> if <cite>batched=True</cite>.</p></li>
<li><p><strong>fn_kwargs</strong> (<cite>Dict</cite>, <em>optional</em>, default <cite>None</cite>) â€“ Keyword arguments to be passed to <cite>function</cite>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 0, &#39;movie_review&#39;: &#39;simplistic , silly and tedious .&#39;},</span>
<span class="go"> {&#39;label&#39;: 0,</span>
<span class="go"> &#39;movie_review&#39;: &quot;it&#39;s so laddish and juvenile , only teenage boys could possibly find it funny .&quot;},</span>
<span class="go"> {&#39;label&#39;: 0,</span>
<span class="go"> &#39;movie_review&#39;: &#39;exploitative and largely devoid of the depth or sophistication that would make watching such a graphic treatment of the crimes bearable .&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/random/generator.html#numpy.random.Generator" title="(in NumPy v2.3)"><span class="pre">Generator</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.shuffle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.shuffle" title="Link to this definition">#</a></dt>
<dd><p>Randomly shuffles the elements of this dataset.</p>
<p>This dataset fills a buffer with <cite>buffer_size</cite> elements, then randomly samples elements from this buffer,
replacing the selected elements with new elements. For perfect shuffling, a buffer size greater than or
equal to the full size of the dataset is required.</p>
<p>For instance, if your dataset contains 10,000 elements but <cite>buffer_size</cite> is set to 1000, then <cite>shuffle</cite> will
initially select a random element from only the first 1000 elements in the buffer. Once an element is
selected, its space in the buffer is replaced by the next (i.e. 1,001-st) element,
maintaining the 1000 element buffer.</p>
<p>If the dataset is made of several shards, it also does shuffle the order of the shards.
However if the order has been fixed by using [<cite>~datasets.IterableDataset.skip</cite>] or [<cite>~datasets.IterableDataset.take</cite>]
then the order of the shards is kept unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Random seed that will be used to shuffle the dataset.
It is used to sample from the shuffle buffer and also to shuffle the data shards.</p></li>
<li><p><strong>generator</strong> (<cite>numpy.random.Generator</cite>, <em>optional</em>) â€“ Numpy random Generator to use to compute the permutation of the dataset rows.
If <cite>generator=None</cite> (default), uses <cite>np.random.default_rng</cite> (the default BitGenerator (PCG64) of NumPy).</p></li>
<li><p><strong>buffer_size</strong> (<cite>int</cite>, defaults to <cite>1000</cite>) â€“ Size of the buffer.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">shuffled_ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &quot;a sports movie with action that&#39;s exciting on the field and a story you care about off it .&quot;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;at its best , the good girl is a refreshingly adult take on adultery . . .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &quot;sam jones became a very lucky filmmaker the day wilco got dropped from their record label , proving that one man&#39;s ruin may be another&#39;s fortune .&quot;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.skip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.skip" title="Link to this definition">#</a></dt>
<dd><p>Create a new [<cite>IterableDataset</cite>] that skips the first <cite>n</cite> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<cite>int</cite>) â€“ Number of elements to skip.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;if you sometimes like to go to the movies to have fun , wasabi is a good place to start .&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.repeat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.repeat" title="Link to this definition">#</a></dt>
<dd><p>Create a new [<cite>IterableDataset</cite>] that repeats the underlying dataset <cite>num_times</cite> times.</p>
<p>N.B. The effect of calling shuffle after repeat depends significantly on buffer size.
With buffer_size 1, duplicate data is never seen in the same iteration, even after shuffling:
ds.repeat(n).shuffle(seed=42, buffer_size=1) is equivalent to ds.shuffle(seed=42, buffer_size=1).repeat(n),
and only shuffles shard orders within each iteration.
With buffer size &gt;= (num samples in the dataset * num_times), we get full shuffling of the repeated data, i.e. we can observe duplicates in
the same iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_times</strong> (<cite>int</cite>) or (<cite>None</cite>) â€“ Number of times to repeat the dataset. If <cite>None</cite>, the dataset will be repeated indefinitely.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1, &#39;text&#39;: &#39;effective but too-tepid biopic&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.take" title="Link to this definition">#</a></dt>
<dd><p>Create a new [<cite>IterableDataset</cite>] with only the first <cite>n</cite> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<cite>int</cite>) â€“ Number of elements to take.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">small_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">small_ds</span><span class="p">)</span>
<span class="go">[{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;},</span>
<span class="go"> {&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequately describe co-writer/director peter jackson&#39;s expanded vision of j . r . r . tolkien&#39;s middle-earth .&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.shard">
<span class="sig-name descname"><span class="pre">shard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">contiguous</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.shard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.shard" title="Link to this definition">#</a></dt>
<dd><p>Return the <cite>index</cite>-nth shard from dataset split into <cite>num_shards</cite> pieces.</p>
<p>This shards deterministically. <cite>dataset.shard(n, i)</cite> splits the dataset into contiguous chunks,
so it can be easily concatenated back together after processing. If <cite>dataset.num_shards % n == l</cite>, then the
first <cite>l</cite> datasets each have <cite>(dataset.num_shards // n) + 1</cite> shards, and the remaining datasets have <cite>(dataset.num_shards // n)</cite> shards.
<cite>datasets.concatenate_datasets([dset.shard(n, i) for i in range(n)])</cite> returns a dataset with the same order as the original.
In particular, <cite>dataset.shard(dataset.num_shards, i)</cite> returns a dataset with 1 shard.</p>
<p>Note: n should be less or equal to the number of shards in the dataset <cite>dataset.num_shards</cite>.</p>
<p>On the other hand, <cite>dataset.shard(n, i, contiguous=False)</cite> contains all the shards of the dataset whose index mod <cite>n = i</cite>.</p>
<p>Be sure to shard before using any randomizing operator (such as <cite>shuffle</cite>).
It is best if the shard operator is used early in the dataset pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_shards</strong> (<cite>int</cite>) â€“ How many shards to split the dataset into.</p></li>
<li><p><strong>index</strong> (<cite>int</cite>) â€“ Which shard to select and return.</p></li>
<li><p><strong>contiguous</strong> â€“ (<cite>bool</cite>, defaults to <cite>True</cite>):
Whether to select contiguous blocks of indices for shards.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;fancyzhx/amazon_polarity&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;label&#39;, &#39;title&#39;, &#39;content&#39;],</span>
<span class="go">    num_shards: 4</span>
<span class="go">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">shard</span><span class="p">(</span><span class="n">num_shards</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Dataset({</span>
<span class="go">    features: [&#39;label&#39;, &#39;title&#39;, &#39;content&#39;],</span>
<span class="go">    num_shards: 2</span>
<span class="go">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.add_column">
<span class="sig-name descname"><span class="pre">add_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">array</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.add_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.add_column" title="Link to this definition">#</a></dt>
<dd><p>Add column to Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) â€“ Column name.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>np.array</em>) â€“ Column data to be added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.rename_column">
<span class="sig-name descname"><span class="pre">rename_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_column_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_column_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.rename_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.rename_column" title="Link to this definition">#</a></dt>
<dd><p>Rename a column in the dataset, and move the features associated to the original column under the new column
name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_column_name</strong> (<cite>str</cite>) â€“ Name of the column to rename.</p></li>
<li><p><strong>new_column_name</strong> (<cite>str</cite>) â€“ New name for the column.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with a renamed column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;label&#39;: 1,</span>
<span class="go"> &#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;movie_review&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;label&#39;: 1,</span>
<span class="go"> &#39;movie_review&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.rename_columns">
<span class="sig-name descname"><span class="pre">rename_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.rename_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.rename_columns" title="Link to this definition">#</a></dt>
<dd><p>Rename several columns in the dataset, and move the features associated to the original columns under
the new column names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_mapping</strong> (<cite>Dict[str, str]</cite>) â€“ A mapping of columns to rename to their new names</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with renamed columns</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.remove_columns">
<span class="sig-name descname"><span class="pre">remove_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.remove_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.remove_columns" title="Link to this definition">#</a></dt>
<dd><p>Remove one or several column(s) in the dataset and the features associated to them.
The removal is done on-the-fly on the examples when iterating over the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_names</strong> (<cite>Union[str, List[str]]</cite>) â€“ Name of the column(s) to remove.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset object without the columns to remove.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;, &#39;label&#39;: 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">remove_columns</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.select_columns">
<span class="sig-name descname"><span class="pre">select_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.select_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.select_columns" title="Link to this definition">#</a></dt>
<dd><p>Select one or several column(s) in the dataset and the features
associated to them. The selection is done on-the-fly on the examples
when iterating over the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_names</strong> (<cite>Union[str, List[str]]</cite>) â€“ Name of the column(s) to select.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset object with selected columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;, &#39;label&#39;: 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;text&#39;: &#39;the rock is destined to be the 21st century&#39;s new &quot; conan &quot; and that he&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal .&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.cast_column">
<span class="sig-name descname"><span class="pre">cast_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Value.html#datasets.Value" title="datasets.features.features.Value"><span class="pre">Value</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.ClassLabel.html#datasets.ClassLabel" title="datasets.features.features.ClassLabel"><span class="pre">ClassLabel</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Translation.html#datasets.Translation" title="datasets.features.translation.Translation"><span class="pre">Translation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.TranslationVariableLanguages.html#datasets.TranslationVariableLanguages" title="datasets.features.translation.TranslationVariableLanguages"><span class="pre">TranslationVariableLanguages</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">LargeList</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array2D.html#datasets.Array2D" title="datasets.features.features.Array2D"><span class="pre">Array2D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array3D.html#datasets.Array3D" title="datasets.features.features.Array3D"><span class="pre">Array3D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array4D.html#datasets.Array4D" title="datasets.features.features.Array4D"><span class="pre">Array4D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Array5D.html#datasets.Array5D" title="datasets.features.features.Array5D"><span class="pre">Array5D</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Audio.html#datasets.Audio" title="datasets.features.audio.Audio"><span class="pre">Audio</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="datasets.Image.html#datasets.Image" title="datasets.features.image.Image"><span class="pre">Image</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Video</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Pdf</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Nifti</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.cast_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.cast_column" title="Link to this definition">#</a></dt>
<dd><p>Cast column to feature for decoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<cite>str</cite>) â€“ Column name.</p></li>
<li><p><strong>feature</strong> (<cite>Feature</cite>) â€“ Target feature.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span><span class="p">,</span> <span class="n">Audio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;PolyAI/minds14&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;en-US&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;audio&#39;: Audio(sampling_rate=8000, mono=True, decode=True, id=None),</span>
<span class="go"> &#39;english_transcription&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;intent_class&#39;: ClassLabel(num_classes=14, names=[&#39;abroad&#39;, &#39;address&#39;, &#39;app_error&#39;, &#39;atm_limit&#39;, &#39;balance&#39;, &#39;business_loan&#39;,  &#39;card_issues&#39;, &#39;cash_deposit&#39;, &#39;direct_debit&#39;, &#39;freeze&#39;, &#39;high_value_payment&#39;, &#39;joint_account&#39;, &#39;latest_transactions&#39;, &#39;pay_bill&#39;]),</span>
<span class="go"> &#39;lang_id&#39;: ClassLabel(num_classes=14, names=[&#39;cs-CZ&#39;, &#39;de-DE&#39;, &#39;en-AU&#39;, &#39;en-GB&#39;, &#39;en-US&#39;, &#39;es-ES&#39;, &#39;fr-FR&#39;, &#39;it-IT&#39;, &#39;ko-KR&#39;,  &#39;nl-NL&#39;, &#39;pl-PL&#39;, &#39;pt-PT&#39;, &#39;ru-RU&#39;, &#39;zh-CN&#39;]),</span>
<span class="go"> &#39;path&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;transcription&#39;: Value(&#39;string&#39;)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">cast_column</span><span class="p">(</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span> <span class="n">Audio</span><span class="p">(</span><span class="n">sampling_rate</span><span class="o">=</span><span class="mi">16000</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;audio&#39;: Audio(sampling_rate=16000, mono=True, decode=True, id=None),</span>
<span class="go"> &#39;english_transcription&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;intent_class&#39;: ClassLabel(num_classes=14, names=[&#39;abroad&#39;, &#39;address&#39;, &#39;app_error&#39;, &#39;atm_limit&#39;, &#39;balance&#39;, &#39;business_loan&#39;,  &#39;card_issues&#39;, &#39;cash_deposit&#39;, &#39;direct_debit&#39;, &#39;freeze&#39;, &#39;high_value_payment&#39;, &#39;joint_account&#39;, &#39;latest_transactions&#39;, &#39;pay_bill&#39;]),</span>
<span class="go"> &#39;lang_id&#39;: ClassLabel(num_classes=14, names=[&#39;cs-CZ&#39;, &#39;de-DE&#39;, &#39;en-AU&#39;, &#39;en-GB&#39;, &#39;en-US&#39;, &#39;es-ES&#39;, &#39;fr-FR&#39;, &#39;it-IT&#39;, &#39;ko-KR&#39;,  &#39;nl-NL&#39;, &#39;pl-PL&#39;, &#39;pt-PT&#39;, &#39;ru-RU&#39;, &#39;zh-CN&#39;]),</span>
<span class="go"> &#39;path&#39;: Value(&#39;string&#39;),</span>
<span class="go"> &#39;transcription&#39;: Value(&#39;string&#39;)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.cast">
<span class="sig-name descname"><span class="pre">cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.Features.html#datasets.Features" title="datasets.features.features.Features"><span class="pre">Features</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.cast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.cast" title="Link to this definition">#</a></dt>
<dd><p>Cast the dataset to a new set of features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>features</strong> ([<cite>Features</cite>]) â€“ New features to cast the dataset to.
The name of the fields in the features must match the current column names.
The type of the data must also be convertible from one type to the other.
For non-trivial conversion, e.g. <cite>string</cite> &lt;-&gt; <cite>ClassLabel</cite> you should use [<cite>~Dataset.map</cite>] to update the Dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with casted features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span><span class="p">,</span> <span class="n">ClassLabel</span><span class="p">,</span> <span class="n">Value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;cornell-movie-review-data/rotten_tomatoes&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;label&#39;: ClassLabel(names=[&#39;neg&#39;, &#39;pos&#39;]),</span>
<span class="go"> &#39;text&#39;: Value(&#39;string&#39;)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_features</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_features</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ClassLabel</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;bad&quot;</span><span class="p">,</span> <span class="s2">&quot;good&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_features</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Value</span><span class="p">(</span><span class="s2">&quot;large_string&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">new_features</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;label&#39;: ClassLabel(names=[&#39;bad&#39;, &#39;good&#39;]),</span>
<span class="go"> &#39;text&#39;: Value(&#39;large_string&#39;)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.decode" title="Link to this definition">#</a></dt>
<dd><p>Enable or disable the dataset features decoding for audio, image, video.</p>
<p>When enabled (default), media types are decoded:</p>
<ul class="simple">
<li><p>audio -&gt; dict of â€œarrayâ€ and â€œsampling_rateâ€ and â€œpathâ€</p></li>
<li><p>image -&gt; PIL.Image</p></li>
<li><p>video -&gt; torchvision.io.VideoReader</p></li>
</ul>
<p>You can enable multithreading using <cite>num_threads</cite>. This is especially useful to speed up remote
data streaming. However it can be slower than <cite>num_threads=0</cite> for local data on fast disks.</p>
<p>Disabling decoding is useful if you want to iterate on the paths or bytes of the media files
without actually decoding their content. To disable decoding you can use <cite>.decode(False)</cite>, which
is equivalent to calling <cite>.cast()</cite> or <cite>.cast_column()</cite> with all the Audio, Image and Video types
set to <cite>decode=False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable</strong> (<cite>bool</cite>, defaults to <cite>True</cite>) â€“ Enable or disable features decoding.</p></li>
<li><p><strong>num_threads</strong> (<cite>int</cite>, defaults to <cite>0</cite>) â€“ Enable multithreading for features decoding.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataset with casted features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>IterableDataset</cite></p>
</dd>
</dl>
<p>Examples:</p>
<p>Disable decoding:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;sshh12/planet-textures&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{&#39;image&#39;: &lt;PIL.PngImagePlugin.PngImageFile image mode=RGB size=2048x1024&gt;,</span>
<span class="go">&#39;text&#39;: &#39;A distant celestial object with an icy crust, displaying a light blue shade, covered with round pits and rugged terrains.&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;image&#39;: Image(mode=None, decode=False, id=None),</span>
<span class="go">&#39;text&#39;: Value(&#39;string&#39;)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="go">{</span>
<span class="go">  &#39;image&#39;: {</span>
<span class="go">    &#39;path&#39;: &#39;hf://datasets/sshh12/planet-textures@69dc4cef7a5c4b2cfe387727ec8ea73d4bff7302/train/textures/0000.png&#39;,</span>
<span class="go">    &#39;bytes&#39;: None</span>
<span class="go">  },</span>
<span class="go">  &#39;text&#39;: &#39;A distant celestial object with an icy crust, displaying a light blue shade, covered with round pits and rugged terrains.&#39;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Speed up streaming with multithreading:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;sshh12/planet-textures&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_threads</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">num_threads</span><span class="o">=</span><span class="n">num_threads</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>  <span class="c1"># 20 times faster !</span>
<span class="gp">... </span>    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_last_batch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datasets.IterableDataset" title="datasets.iterable_dataset.IterableDataset"><span class="pre">IterableDataset</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.batch" title="Link to this definition">#</a></dt>
<dd><p>Group samples from the dataset into batches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>) â€“ The number of samples in each batch.</p></li>
<li><p><strong>drop_last_batch</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) â€“ Whether to drop the last incomplete batch.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;some_dataset&quot;</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batched_ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.14)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_dict" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a Python dict. Can also return a generator for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ The size (number of rows) of the batches if <cite>batched</cite> is <cite>True</cite>.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>dict</cite> or <cite>Iterator[dict]</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_list">
<span class="sig-name descname"><span class="pre">to_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_list" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a Python list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>list</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_pandas">
<span class="sig-name descname"><span class="pre">to_pandas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><span class="pre">DataFrame</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.14)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_pandas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_pandas" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a <cite>pandas.DataFrame</cite>. Can also return a generator for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ The size (number of rows) of the batches if <cite>batched</cite> is <cite>True</cite>.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>) â€“ Set to <cite>True</cite> to return a generator that yields the dataset as batches
of <cite>batch_size</cite> rows. Defaults to <cite>False</cite> (returns the whole datasets once).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> or <cite>Iterator[pandas.DataFrame]</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_polars">
<span class="sig-name descname"><span class="pre">to_polars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_overrides</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rechunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pl.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.14)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><span class="pre">pl.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_polars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_polars" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset as a <cite>polars.DataFrame</cite>. Can also return a generator for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ The size (number of rows) of the batches if <cite>batched</cite> is <cite>True</cite>.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>batched</strong> (<cite>bool</cite>) â€“ Set to <cite>True</cite> to return a generator that yields the dataset as batches
of <cite>batch_size</cite> rows. Defaults to <cite>False</cite> (returns the whole datasets once).</p></li>
<li><p><strong>schema_overrides</strong> (<cite>dict</cite>, <em>optional</em>) â€“ Support type specification or override of one or more columns; note that
any dtypes inferred from the schema param will be overridden.</p></li>
<li><p><strong>rechunk</strong> (<cite>bool</cite>) â€“ Make sure that all data is in contiguous memory. Defaults to <cite>True</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>polars.DataFrame</cite> or <cite>Iterator[polars.DataFrame]</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_polars</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_buf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.14)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">to_csv_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_csv" title="Link to this definition">#</a></dt>
<dd><p>Exports the dataset to csv.</p>
<p>This iterates on the dataset and loads it completely in memory before writing it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_buf</strong> (<cite>PathLike</cite> or <cite>FileOrBuffer</cite>) â€“ Either a path to a file (e.g. <cite>file.csv</cite>), a remote URI (e.g. <cite>hf://datasets/username/my_dataset_name/data.csv</cite>),
or a BinaryIO, where the dataset will be saved to in the specified format.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ Key/value pairs to be passed on to the file-system backend, if any.</p></li>
<li><p><strong>**to_csv_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Parameters to pass to pandasâ€™s [<cite>pandas.DataFrame.to_csv</cite>](<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html</a>).
The parameter <cite>index</cite> defaults to <cite>False</cite> if not specified.
If you would like to write the index, pass <cite>index=True</cite> and also set a name for the index column by
passing <cite>index_label</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of characters or bytes written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_buf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.14)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">to_json_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_json" title="Link to this definition">#</a></dt>
<dd><p>Export the dataset to JSON Lines or JSON.</p>
<p>This iterates on the dataset and loads it completely in memory before writing it.</p>
<p>The default output format is [JSON Lines](<a class="reference external" href="https://jsonlines.org/">https://jsonlines.org/</a>).
To export to [JSON](<a class="reference external" href="https://www.json.org">https://www.json.org</a>), pass <cite>lines=False</cite> argument and the desired <cite>orient</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_buf</strong> (<cite>PathLike</cite> or <cite>FileOrBuffer</cite>) â€“ Either a path to a file (e.g. <cite>file.json</cite>), a remote URI (e.g. <cite>hf://datasets/username/my_dataset_name/data.json</cite>),
or a BinaryIO, where the dataset will be saved to in the specified format.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ Key/value pairs to be passed on to the file-system backend, if any.</p></li>
<li><p><strong>**to_json_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Parameters to pass to pandasâ€™s [<cite>pandas.DataFrame.to_json</cite>](<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_json.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_json.html</a>).
Default arguments are <cite>lines=True</cite> and <cite>orient=â€recordsâ€.
The parameter `index</cite> defaults to <cite>False</cite> if <cite>orient</cite> is <cite>â€œsplitâ€</cite> or <cite>â€œtableâ€</cite>.
If you would like to write the index, pass <cite>index=True</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of characters or bytes written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory/filename.jsonl&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">num_shards</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">num_shards</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_shards</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">shard</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">shard</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">num_shards</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">shard</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;path/of/my/dataset/data-</span><span class="si">{</span><span class="n">index</span><span class="si">:</span><span class="s2">05d</span><span class="si">}</span><span class="s2">.jsonl&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_sql">
<span class="sig-name descname"><span class="pre">to_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">con</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">sqlalchemy.engine.Connection</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">sqlalchemy.engine.Engine</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.14)"><span class="pre">sqlite3.Connection</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">sql_writer_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_sql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_sql" title="Link to this definition">#</a></dt>
<dd><p>Exports the dataset to a SQL database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<cite>str</cite>) â€“ Name of SQL table.</p></li>
<li><p><strong>con</strong> (<cite>str</cite> or <cite>sqlite3.Connection</cite> or <cite>sqlalchemy.engine.Connection</cite> or <cite>sqlalchemy.engine.Connection</cite>) â€“ A [URI string](<a class="reference external" href="https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls">https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls</a>) or a SQLite3/SQLAlchemy connection object used to write to a database.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>**sql_writer_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Parameters to pass to pandasâ€™s [<cite>pandas.DataFrame.to_sql</cite>](<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_sql.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_sql.html</a>).
The parameter <cite>index</cite> defaults to <cite>False</cite> if not specified.
If you would like to write the index, pass <cite>index=True</cite> and also set a name for the index column by
passing <cite>index_label</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of records written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># con provided as a connection URI string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;sqlite:///my_own_db.sql&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># con provided as a sqlite3 connection object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;my_own_db.sql&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">con</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ds</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">con</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.to_parquet">
<span class="sig-name descname"><span class="pre">to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_buf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.14)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">parquet_writer_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.to_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.to_parquet" title="Link to this definition">#</a></dt>
<dd><p>Exports the dataset to parquet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_or_buf</strong> (<cite>PathLike</cite> or <cite>FileOrBuffer</cite>) â€“ Either a path to a file (e.g. <cite>file.parquet</cite>), a remote URI (e.g. <cite>hf://datasets/username/my_dataset_name/data.parquet</cite>),
or a BinaryIO, where the dataset will be saved to in the specified format.</p></li>
<li><p><strong>batch_size</strong> (<cite>int</cite>, <em>optional</em>) â€“ Size of the batch to load in memory and write at once.
Defaults to <cite>datasets.config.DEFAULT_MAX_BATCH_SIZE</cite>.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) â€“ <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=â€2.19.0â€/&gt;</p>
</p></li>
<li><p><strong>**parquet_writer_kwargs</strong> (<em>additional keyword arguments</em>) â€“ Parameters to pass to PyArrowâ€™s <cite>pyarrow.parquet.ParquetWriter</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of characters or bytes written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">to_parquet</span><span class="p">(</span><span class="s2">&quot;path/to/dataset/directory&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">num_shards</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">num_shards</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_shards</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">shard</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">shard</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">num_shards</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">shard</span><span class="o">.</span><span class="n">to_parquet</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;path/of/my/dataset/data-</span><span class="si">{</span><span class="n">index</span><span class="si">:</span><span class="s2">05d</span><span class="si">}</span><span class="s2">.parquet&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datasets.IterableDataset.push_to_hub">
<span class="sig-name descname"><span class="pre">push_to_hub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_external_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">CommitInfo</span></span></span><a class="reference internal" href="../../_modules/datasets/iterable_dataset.html#IterableDataset.push_to_hub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.IterableDataset.push_to_hub" title="Link to this definition">#</a></dt>
<dd><p>Pushes the dataset to the hub as a Parquet dataset.
The dataset is pushed using HTTP requests and does not need to have neither git or git-lfs installed.</p>
<p>The resulting Parquet files are self-contained by default. If your dataset contains [<cite>Image</cite>], [<cite>Audio</cite>] or [<cite>Video</cite>]
data, the Parquet files will store the bytes of your images or audio files.
You can disable this by setting <cite>embed_external_files</cite> to <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>repo_id</strong> (<cite>str</cite>) â€“ The ID of the repository to push to in the following format: <cite>&lt;user&gt;/&lt;dataset_name&gt;</cite> or
<cite>&lt;org&gt;/&lt;dataset_name&gt;</cite>. Also accepts <cite>&lt;dataset_name&gt;</cite>, which will default to the namespace
of the logged-in user.</p></li>
<li><p><strong>config_name</strong> (<cite>str</cite>, defaults to â€œdefaultâ€) â€“ The configuration name (or subset) of a dataset. Defaults to â€œdefaultâ€.</p></li>
<li><p><strong>set_default</strong> (<cite>bool</cite>, <em>optional</em>) â€“ Whether to set this configuration as the default one. Otherwise, the default configuration is the one
named â€œdefaultâ€.</p></li>
<li><p><strong>split</strong> (<cite>str</cite>, <em>optional</em>) â€“ The name of the split that will be given to that dataset. Defaults to <cite>self.split</cite>.</p></li>
<li><p><strong>data_dir</strong> (<cite>str</cite>, <em>optional</em>) â€“ Directory name that will contain the uploaded data files. Defaults to the <cite>config_name</cite> if different
from â€œdefaultâ€, else â€œdataâ€.</p></li>
<li><p><strong>commit_message</strong> (<cite>str</cite>, <em>optional</em>) â€“ Message to commit while pushing. Will default to <cite>â€œUpload datasetâ€</cite>.</p></li>
<li><p><strong>commit_description</strong> (<cite>str</cite>, <em>optional</em>) â€“ Description of the commit that will be created.
Additionally, description of the PR if a PR is created (<cite>create_pr</cite> is True).</p></li>
<li><p><strong>private</strong> (<cite>bool</cite>, <em>optional</em>) â€“ Whether to make the repo private. If <cite>None</cite> (default), the repo will be public unless the
organizationâ€™s default is private. This value is ignored if the repo already exists.</p></li>
<li><p><strong>token</strong> (<cite>str</cite>, <em>optional</em>) â€“ An optional authentication token for the Hugging Face Hub. If no token is passed, will default
to the token saved locally when logging in with <cite>huggingface-cli login</cite>. Will raise an error
if no token is passed and the user is not logged-in.</p></li>
<li><p><strong>revision</strong> (<cite>str</cite>, <em>optional</em>) â€“ Branch to push the uploaded files to. Defaults to the <cite>â€œmainâ€</cite> branch.</p></li>
<li><p><strong>create_pr</strong> (<cite>bool</cite>, <em>optional</em>, defaults to <cite>False</cite>) â€“ Whether to create a PR with the uploaded files or directly commit.</p></li>
<li><p><strong>num_shards</strong> (<cite>int</cite>, <em>optional</em>) â€“ Number of shards to write. Equals to this datasetâ€™s <cite>.num_shards</cite> by default.</p></li>
<li><p><strong>embed_external_files</strong> (<cite>bool</cite>, defaults to <cite>True</cite>) â€“ <p>Whether to embed file bytes in the shards.
In particular, this will do the following before the push for the fields of type:</p>
<ul>
<li><p>[<cite>Audio</cite>] and [<cite>Image</cite>]: remove local path information and embed file content in the Parquet files.</p></li>
</ul>
</p></li>
<li><p><strong>num_proc</strong> (<cite>int</cite>, <em>optional</em>, defaults to <cite>None</cite>) â€“ Number of processes when preparing and uploading the dataset.
This is helpful if the dataset is made of many samples and transformations.
Multiprocessing is disabled by default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>huggingface_hub.CommitInfo</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dict</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">private</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">num_shards</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
</pre></div>
</div>
<p>If your dataset has multiple splits (e.g. train/validation/test):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">train_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want to add a new configuration (or subset) to a dataset (e.g. if the dataset has multiple tasks/versions/languages):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">english_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">french_dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;fr&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">english_dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">french_dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;&lt;organization&gt;/&lt;dataset_id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;fr&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.IterableDataset.info">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#datasets.IterableDataset.info" title="Link to this definition">#</a></dt>
<dd><p>[<cite>~datasets.DatasetInfo</cite>] object containing all the metadata in the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datasets.IterableDataset.split">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split</span></span><a class="headerlink" href="#datasets.IterableDataset.split" title="Link to this definition">#</a></dt>
<dd><p>[<cite>~datasets.NamedSplit</cite>] object corresponding to a named dataset split.</p>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../iterable_dataset.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">IterableDataset</p>
      </div>
    </a>
    <a class="right-next"
       href="datasets.IterableDataset.from_generator.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">datasets.IterableDataset.from_generator</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset"><code class="docutils literal notranslate"><span class="pre">IterableDataset</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.num_columns"><code class="docutils literal notranslate"><span class="pre">IterableDataset.num_columns</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.column_names"><code class="docutils literal notranslate"><span class="pre">IterableDataset.column_names</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.state_dict"><code class="docutils literal notranslate"><span class="pre">IterableDataset.state_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.load_state_dict"><code class="docutils literal notranslate"><span class="pre">IterableDataset.load_state_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.iter"><code class="docutils literal notranslate"><span class="pre">IterableDataset.iter()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.from_generator"><code class="docutils literal notranslate"><span class="pre">IterableDataset.from_generator()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.from_spark"><code class="docutils literal notranslate"><span class="pre">IterableDataset.from_spark()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.from_file"><code class="docutils literal notranslate"><span class="pre">IterableDataset.from_file()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.with_format"><code class="docutils literal notranslate"><span class="pre">IterableDataset.with_format()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.map"><code class="docutils literal notranslate"><span class="pre">IterableDataset.map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.filter"><code class="docutils literal notranslate"><span class="pre">IterableDataset.filter()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.shuffle"><code class="docutils literal notranslate"><span class="pre">IterableDataset.shuffle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.skip"><code class="docutils literal notranslate"><span class="pre">IterableDataset.skip()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.repeat"><code class="docutils literal notranslate"><span class="pre">IterableDataset.repeat()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.take"><code class="docutils literal notranslate"><span class="pre">IterableDataset.take()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.shard"><code class="docutils literal notranslate"><span class="pre">IterableDataset.shard()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.add_column"><code class="docutils literal notranslate"><span class="pre">IterableDataset.add_column()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.rename_column"><code class="docutils literal notranslate"><span class="pre">IterableDataset.rename_column()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.rename_columns"><code class="docutils literal notranslate"><span class="pre">IterableDataset.rename_columns()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.remove_columns"><code class="docutils literal notranslate"><span class="pre">IterableDataset.remove_columns()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.select_columns"><code class="docutils literal notranslate"><span class="pre">IterableDataset.select_columns()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.cast_column"><code class="docutils literal notranslate"><span class="pre">IterableDataset.cast_column()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.cast"><code class="docutils literal notranslate"><span class="pre">IterableDataset.cast()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.decode"><code class="docutils literal notranslate"><span class="pre">IterableDataset.decode()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.batch"><code class="docutils literal notranslate"><span class="pre">IterableDataset.batch()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_dict"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_list"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_list()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_pandas"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_pandas()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_polars"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_polars()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_csv"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_csv()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_json"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_json()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_sql"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_sql()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.to_parquet"><code class="docutils literal notranslate"><span class="pre">IterableDataset.to_parquet()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.push_to_hub"><code class="docutils literal notranslate"><span class="pre">IterableDataset.push_to_hub()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.info"><code class="docutils literal notranslate"><span class="pre">IterableDataset.info</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets.IterableDataset.split"><code class="docutils literal notranslate"><span class="pre">IterableDataset.split</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/huggingface/datasets/edit/main/docs/source/api/generated/datasets.IterableDataset.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      Â© Copyright 2025, HuggingFace Inc..
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>